<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StarUML Controller API Documentation</title>
<style>
:root {
  --sidebar-width: 320px;
  --bg-color: #fff;
  --text-color: #333;
  --border-color: #e0e0e0;
  --code-bg: #f5f5f5;
  --sidebar-bg: #f8f9fa;
  --sidebar-hover: #e9ecef;
  --accent-color: #0066cc;
  --get-color: #28a745;
  --post-color: #007bff;
  --put-color: #fd7e14;
  --delete-color: #dc3545;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  color: var(--text-color);
  line-height: 1.6;
  background: var(--bg-color);
}

/* --- Sidebar --- */
#sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-width);
  height: 100vh;
  overflow-y: auto;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--border-color);
  padding: 16px 0;
  z-index: 100;
}

#sidebar h2 {
  padding: 0 16px 12px;
  font-size: 16px;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 8px;
  color: var(--accent-color);
}

#sidebar ul {
  list-style: none;
  padding-left: 0;
  margin-bottom: 0;
}

#sidebar li a {
  display: block;
  padding: 4px 8px;
  text-decoration: none;
  color: var(--text-color);
  font-size: 13px;
  border-left: 3px solid transparent;
  transition: all 0.15s;
}

#sidebar li a:hover {
  background: var(--sidebar-hover);
  border-left-color: var(--accent-color);
}

#sidebar .nav-item {
  display: flex;
  align-items: flex-start;
}

#sidebar .nav-item a {
  flex: 1;
  min-width: 0;
}

#sidebar .toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  min-width: 16px;
  height: 20px;
  font-size: 8px;
  color: #999;
  cursor: pointer;
  transition: transform 0.15s;
  margin-top: 4px;
}

#sidebar .toggle.open {
  transform: rotate(90deg);
}

#sidebar .sub-items {
  display: none;
}

#sidebar .sub-items.open {
  display: block;
}

#sidebar .nav-h2 > a,
#sidebar .nav-h2 > .nav-item > a {
  font-weight: 700;
  font-size: 14px;
  color: var(--accent-color);
  padding-top: 10px;
  padding-bottom: 4px;
}

#sidebar .nav-h2 > .nav-item {
  padding: 0 8px;
}

#sidebar .nav-h3 > a,
#sidebar .nav-h3 > .nav-item > a {
  padding-left: 4px;
  padding-top: 5px;
  padding-bottom: 5px;
  font-weight: 600;
  color: #555;
}

#sidebar .nav-h3 > .nav-item {
  padding-left: 20px;
}

#sidebar .nav-h3 > a {
  padding-left: 20px;
}

#sidebar .nav-h4 a {
  padding-left: 48px;
  padding-top: 5px;
  padding-bottom: 5px;
}

.nav-action {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: #333;
  line-height: 1.3;
  margin-bottom: 1px;
}

.nav-endpoint {
  display: block;
  line-height: 1.3;
}

.method {
  display: inline-block;
  font-size: 9px;
  font-weight: bold;
  padding: 1px 4px;
  border-radius: 3px;
  color: #fff;
  min-width: 38px;
  text-align: center;
  vertical-align: middle;
}

.method-get { background: var(--get-color); }
.method-post { background: var(--post-color); }
.method-put { background: var(--put-color); }
.method-delete { background: var(--delete-color); }

.path {
  font-family: monospace;
  font-size: 10px;
  color: #888;
  vertical-align: middle;
}

/* --- Content --- */
#content {
  margin-left: var(--sidebar-width);
  padding: 32px 48px;
  max-width: 960px;
}

h1 {
  font-size: 28px;
  margin-bottom: 24px;
  padding-bottom: 12px;
  border-bottom: 2px solid var(--accent-color);
}

h2 {
  font-size: 22px;
  margin-top: 40px;
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border-color);
}

h3 {
  font-size: 18px;
  margin-top: 32px;
  margin-bottom: 8px;
  color: #444;
}

h4 {
  font-size: 16px;
  margin-top: 28px;
  margin-bottom: 8px;
  color: #555;
}

.endpoint-action {
  font-size: 15px;
  font-weight: 600;
  color: #222;
  margin-bottom: 4px;
  padding: 4px 0;
}

.endpoint-detail {
  font-size: 14px;
  color: #555;
  margin-bottom: 12px;
}

p {
  margin-bottom: 12px;
}

table {
  border-collapse: collapse;
  width: 100%;
  margin-bottom: 16px;
  font-size: 14px;
}

th, td {
  border: 1px solid var(--border-color);
  padding: 8px 12px;
  text-align: left;
}

th {
  background: var(--sidebar-bg);
  font-weight: 600;
}

tr:nth-child(even) {
  background: #fafafa;
}

code {
  background: var(--code-bg);
  padding: 2px 6px;
  border-radius: 3px;
  font-family: "SF Mono", "Fira Code", Consolas, monospace;
  font-size: 13px;
}

pre {
  background: #1e1e1e;
  color: #d4d4d4;
  padding: 16px;
  border-radius: 6px;
  overflow-x: auto;
  margin-bottom: 16px;
  font-size: 13px;
  line-height: 1.5;
}

pre code {
  background: transparent;
  padding: 0;
  color: inherit;
}

hr {
  border: none;
  border-top: 1px solid var(--border-color);
  margin: 32px 0;
}

ul, ol {
  margin-bottom: 12px;
  padding-left: 24px;
}

li {
  margin-bottom: 4px;
}

strong {
  color: #222;
}

blockquote {
  border-left: 4px solid var(--border-color);
  padding: 8px 16px;
  margin-bottom: 12px;
  color: #555;
  background: #fafafa;
}

@media (max-width: 768px) {
  #sidebar {
    display: none;
  }
  #content {
    margin-left: 0;
    padding: 16px;
  }
}
</style>
</head>
<body>
<nav id="sidebar">
<h2>StarUML Controller API</h2>
<ul>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#overview">Overview</a></div>
    <ul class="sub-items">
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#general">General</a></div>
        <ul class="sub-items">
          <li class="nav-h4"><a href="#id-format-and-url-encoding">ID Format and URL Encoding</a></li>
          <li class="nav-h4"><a href="#common-response-format">Common Response Format</a></li>
          <li class="nav-h4"><a href="#input-validation">Input Validation</a></li>
          <li class="nav-h4"><a href="#tag-kind-constraints">Tag Kind Constraints</a></li>
          <li class="nav-h4"><a href="#http-status-codes">HTTP Status Codes</a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#er-diagram">ER Diagram</a></div>
        <ul class="sub-items">
          <li class="nav-h4"><a href="#column-type-constraints">Column Type Constraints</a></li>
          <li class="nav-h4"><a href="#referential-integrity-checks">Referential Integrity Checks</a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#sequence-diagram">Sequence Diagram</a></div>
        <ul class="sub-items">
          <li class="nav-h4"><a href="#message-sort-constraints">Message Sort Constraints</a></li>
          <li class="nav-h4"><a href="#interaction-operator-constraints">Interaction Operator Constraints</a></li>
          <li class="nav-h4"><a href="#sequence-diagram-referential-integrity-checks">Sequence Diagram Referential Integrity Checks</a></li>
          <li class="nav-h4"><a href="#sequence-diagram-layout-guide">Sequence Diagram Layout Guide</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#endpoint-summary">Endpoint Summary</a></div>
    <ul class="sub-items">
      <li class="nav-h3">
        <a href="#general-1">General</a>
      </li>
      <li class="nav-h3">
        <a href="#er-diagram-1">ER Diagram</a>
      </li>
      <li class="nav-h3">
        <a href="#sequence-diagram-1">Sequence Diagram</a>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#general-2">General</a></div>
    <ul class="sub-items">
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#status">Status</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-status"><span class="nav-action">Return the server health check and a list of available endpoints. `GET /` returns the same response.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/status</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#elements">Elements</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-elements-id"><span class="nav-action">Get any element by its ID. The element is serialized in a format appropriate for its type.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/elements/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-elements-id"><span class="nav-action">Update the `name` and/or `documentation` of any element.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/elements/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-elements-id"><span class="nav-action">Delete any element by its ID. Associated views on diagrams are also deleted.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/elements/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#diagrams-all-types">Diagrams (All Types)</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams"><span class="nav-action">List all diagrams across all types (ERD, Sequence, etc.). Optionally filter by type.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-export"><span class="nav-action">Export a diagram as an image file (PNG, JPEG, SVG, or PDF).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/export</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#notes">Notes</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-notes"><span class="nav-action">List all notes on the specified diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/notes</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-notes"><span class="nav-action">Create a note on the specified diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/notes</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-notes-id"><span class="nav-action">Get a note by its ID.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/notes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-notes-id"><span class="nav-action">Update the text of a note.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/notes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-notes-id"><span class="nav-action">Delete a note.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/notes/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#note-links">Note Links</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-note-links"><span class="nav-action">List all note links on the specified diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/note-links</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-note-links"><span class="nav-action">Create a note link connecting a note to another element on the diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/note-links</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-note-links-id"><span class="nav-action">Delete a note link.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/note-links/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#free-lines">Free Lines</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-free-lines"><span class="nav-action">List all free lines on the specified diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/free-lines</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-free-lines"><span class="nav-action">Create a free line on the specified diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/free-lines</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-free-lines-id"><span class="nav-action">Delete a free line.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/free-lines/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#views-move-resize">Views (Move/Resize)</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-views"><span class="nav-action">List all views on the specified diagram with position and size information.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/views</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-views-id"><span class="nav-action">Update the position and/or size of a view. Only applicable to NodeView-type elements (box-shaped views).</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/views/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#tags">Tags</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-elements-id-tags"><span class="nav-action">List all tags attached to the specified element (entity, column, or any other element).</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/elements/:id/tags</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-elements-id-tags"><span class="nav-action">Create a new tag on the specified element.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/elements/:id/tags</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-tags-id"><span class="nav-action">Get the details of the specified tag.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/tags/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-tags-id"><span class="nav-action">Update the specified tag. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/tags/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-tags-id"><span class="nav-action">Delete the specified tag.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/tags/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#project">Project</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-project-save"><span class="nav-action">Save the project to the specified absolute path. No dialog is displayed.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/save</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-project-open"><span class="nav-action">Open an existing `.mdj` file from the specified absolute path. No dialog is displayed.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/open</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#generic-diagram-creation">Generic Diagram Creation</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-diagrams"><span class="nav-action">Create any type of diagram. Supports UML, BPMN, C4, SysML, Wireframe, MindMap, Cloud (AWS/Azure/GCP), Flowchart, and DFD.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-diagrams-id"><span class="nav-action">Get detailed information about a specific diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-diagrams-id"><span class="nav-action">Update a diagram&#x27;s name.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-diagrams-id"><span class="nav-action">Delete a diagram and all its views.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/diagrams/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#diagram-elements">Diagram Elements</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-elements"><span class="nav-action">List all elements on a diagram with model information.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/elements</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-elements"><span class="nav-action">Create a node element (class, actor, state, etc.) on a diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/elements</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-relations"><span class="nav-action">Create a relation (association, dependency, flow, etc.) between two elements on a diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/relations</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#child-elements">Child Elements</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-elements-id-children"><span class="nav-action">Create a child element (attribute, operation, enumeration literal, etc.) under a model element.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/elements/:id/children</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#view-styling">View Styling</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#put-api-views-id-style"><span class="nav-action">Update the visual style of a view element (colors, font, shadow, line style).</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/views/:id/style</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#undo-redo">Undo / Redo</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-undo"><span class="nav-action">Undo the last operation.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/undo</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-redo"><span class="nav-action">Redo the last undone operation.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/redo</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#search">Search</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-search"><span class="nav-action">Search for elements by keyword, optionally filtered by type.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/search</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#auto-layout">Auto Layout</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-diagrams-id-layout"><span class="nav-action">Apply automatic layout to a diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/layout</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#import">Import</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-project-import"><span class="nav-action">Import a model fragment from a `.mfj` file.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/import</span></span></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#er-diagram-2">ER Diagram</a></div>
    <ul class="sub-items">
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#diagrams">Diagrams</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-diagrams"><span class="nav-action">List all ERD diagrams in the project.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-diagrams"><span class="nav-action">Create a new ERD diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-diagrams-id"><span class="nav-action">Get the details of the specified diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-diagrams-id"><span class="nav-action">Update the specified diagram. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-diagrams-id"><span class="nav-action">Delete the specified diagram.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/diagrams/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#data-models">Data Models</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-data-models"><span class="nav-action">List all ERD data models in the project. A data model serves as the parent container for entities and diagrams.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/data-models</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-data-models"><span class="nav-action">Create a new ERD data model. It is created directly under the project root.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/data-models</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-data-models-id"><span class="nav-action">Get the details of the specified data model.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/data-models/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-data-models-id"><span class="nav-action">Update the specified data model (rename). Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/data-models/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-data-models-id"><span class="nav-action">Delete the specified data model. Deletion is blocked if it contains entities, relationships, or diagrams.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/data-models/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#entities">Entities</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-entities"><span class="nav-action">List entities (tables). Supports filtering via query parameters.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/entities</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-entities"><span class="nav-action">Create a new entity (table).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/entities</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-entities-id"><span class="nav-action">Get the details of the specified entity. Includes columns and tags.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/entities/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-entities-id"><span class="nav-action">Update the specified entity. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/entities/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-entities-id"><span class="nav-action">Delete the specified entity. All child columns and tags are also deleted.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/entities/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#columns">Columns</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-entities-id-columns"><span class="nav-action">List all columns of the specified entity.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/entities/:id/columns</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-entities-id-columns"><span class="nav-action">Add a new column to the specified entity.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/entities/:id/columns</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-columns-id"><span class="nav-action">Get the details of the specified column.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/columns/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-columns-id"><span class="nav-action">Update the specified column. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/columns/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-columns-id"><span class="nav-action">Delete the specified column.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/columns/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#sequences">Sequences</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-entities-id-sequences"><span class="nav-action">List all sequences of the specified entity. Sequences are internally stored as tags, but this endpoint returns them in a sequence-specific format.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/entities/:id/sequences</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-entities-id-sequences"><span class="nav-action">Create a new sequence on the specified entity. Internally stored as a tag (tag name: `sequence#&lt;name&gt;`, tag value: `CREATE SEQUENCE &lt;name&gt;`).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/entities/:id/sequences</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-sequences-id"><span class="nav-action">Get the details of the specified sequence.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/sequences/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-sequences-id"><span class="nav-action">Update the specified sequence. When the name is changed, the internal tag name (`sequence#&lt;name&gt;`) and value (`CREATE SEQUENCE &lt;name&gt;`) are updated accordingly.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/sequences/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-sequences-id"><span class="nav-action">Delete the specified sequence.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/sequences/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#indexes">Indexes</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-entities-id-indexes"><span class="nav-action">List all indexes of the specified entity. Indexes are internally stored as tags, but this endpoint returns them in an index-specific format.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/entities/:id/indexes</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-entities-id-indexes"><span class="nav-action">Create a new index on the specified entity. Internally stored as a tag (tag name: `index#&lt;name&gt;`, tag value: full definition).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/entities/:id/indexes</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-indexes-id"><span class="nav-action">Get the details of the specified index.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/indexes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-indexes-id"><span class="nav-action">Update the specified index. Either `name` or `definition` (or both) can be specified.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/indexes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-indexes-id"><span class="nav-action">Delete the specified index.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/indexes/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#relationships">Relationships</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-erd-relationships"><span class="nav-action">List relationships (associations between tables). Supports filtering via query parameters.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/relationships</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-erd-relationships"><span class="nav-action">Create a new relationship (association between tables).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/relationships</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-erd-relationships-id"><span class="nav-action">Get the details of the specified relationship.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/erd/relationships/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-erd-relationships-id"><span class="nav-action">Update the specified relationship. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/erd/relationships/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-erd-relationships-id"><span class="nav-action">Delete the specified relationship.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/erd/relationships/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#postgresql-ddl">PostgreSQL DDL</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#post-api-erd-postgresql-ddl"><span class="nav-action">Generate PostgreSQL DDL (Data Definition Language) from the ER diagram and write it to the specified absolute path. Ported from the staruml-postgresql extension&#x27;s Generate DDL feature.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/erd/postgresql/ddl</span></span></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#sequence-diagram-2">Sequence Diagram</a></div>
    <ul class="sub-items">
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#interactions">Interactions</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions"><span class="nav-action">List all interactions in the project. An interaction serves as the parent container for lifelines, messages, combined fragments, and sequence diagrams.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions"><span class="nav-action">Create a new interaction. It is created directly under the project root.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-interactions-id"><span class="nav-action">Get the details of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-interactions-id"><span class="nav-action">Update the specified interaction. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/interactions/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-interactions-id"><span class="nav-action">Delete the specified interaction. Deletion is blocked if it contains lifelines, messages, fragments, or diagrams.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/interactions/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#sequence-diagrams">Sequence Diagrams</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-diagrams"><span class="nav-action">List all sequence diagrams in the project.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-diagrams"><span class="nav-action">Create a new sequence diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/diagrams</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-diagrams-id"><span class="nav-action">Get the details of the specified sequence diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-diagrams-id"><span class="nav-action">Update the specified sequence diagram. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/diagrams/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-diagrams-id"><span class="nav-action">Delete the specified sequence diagram.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/diagrams/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#lifelines">Lifelines</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions-id-lifelines"><span class="nav-action">List all lifelines of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id/lifelines</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions-id-lifelines"><span class="nav-action">Add a new lifeline to the specified interaction. If `diagramId` is specified, a view (visual representation) is also created on the diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions/:id/lifelines</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-lifelines-id"><span class="nav-action">Get the details of the specified lifeline.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/lifelines/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-lifelines-id"><span class="nav-action">Update the specified lifeline. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/lifelines/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-lifelines-id"><span class="nav-action">Delete the specified lifeline. Deletion is blocked if messages reference this lifeline as source or target, or if state invariants reference it via covered.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/lifelines/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#messages">Messages</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions-id-messages"><span class="nav-action">List all messages of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id/messages</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions-id-messages"><span class="nav-action">Create a new message in the specified interaction. Uses `createModelAndView` to create both model and view on the diagram. Supports standard messages, found messages (`UMLFoundMessage`), and lost messages (`UMLLostMessage`).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions/:id/messages</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-messages-id"><span class="nav-action">Get the details of the specified message.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/messages/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-messages-id"><span class="nav-action">Update the specified message. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/messages/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-messages-id"><span class="nav-action">Delete the specified message.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/messages/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#combined-fragments">Combined Fragments</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions-id-combined-fragments"><span class="nav-action">List all combined fragments of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id/combined-fragments</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions-id-combined-fragments"><span class="nav-action">Create a new combined fragment in the specified interaction.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions/:id/combined-fragments</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-combined-fragments-id"><span class="nav-action">Get the details of the specified combined fragment.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/combined-fragments/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-combined-fragments-id"><span class="nav-action">Update the specified combined fragment. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/combined-fragments/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-combined-fragments-id"><span class="nav-action">Delete the specified combined fragment. Child operands are cascade deleted automatically.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/combined-fragments/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#interaction-operands">Interaction Operands</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-combined-fragments-id-operands"><span class="nav-action">List all operands of the specified combined fragment.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/combined-fragments/:id/operands</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-combined-fragments-id-operands"><span class="nav-action">Add a new operand to the specified combined fragment.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/combined-fragments/:id/operands</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-operands-id"><span class="nav-action">Get the details of the specified operand.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/operands/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-operands-id"><span class="nav-action">Update the specified operand. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/operands/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-operands-id"><span class="nav-action">Delete the specified operand. Deletion is blocked if the parent combined fragment has only 1 operand remaining.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/operands/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#state-invariants">State Invariants</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions-id-state-invariants"><span class="nav-action">List all state invariants of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id/state-invariants</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions-id-state-invariants"><span class="nav-action">Create a new state invariant in the specified interaction.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions/:id/state-invariants</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-state-invariants-id"><span class="nav-action">Get the details of the specified state invariant.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/state-invariants/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-state-invariants-id"><span class="nav-action">Update the specified state invariant. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/state-invariants/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-state-invariants-id"><span class="nav-action">Delete the specified state invariant.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/state-invariants/:id</span></span></a></li>
        </ul>
      </li>
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#interaction-uses">Interaction Uses</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-seq-interactions-id-interaction-uses"><span class="nav-action">List all interaction uses of the specified interaction.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interactions/:id/interaction-uses</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-seq-interactions-id-interaction-uses"><span class="nav-action">Create a new interaction use in the specified interaction.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/seq/interactions/:id/interaction-uses</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-seq-interaction-uses-id"><span class="nav-action">Get the details of the specified interaction use.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/seq/interaction-uses/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-seq-interaction-uses-id"><span class="nav-action">Update the specified interaction use. Only the specified fields are updated.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/seq/interaction-uses/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-seq-interaction-uses-id"><span class="nav-action">Delete the specified interaction use.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/seq/interaction-uses/:id</span></span></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#shapes">Shapes</a></div>
    <ul class="sub-items">
      <li class="nav-h3 has-children">
        <div class="nav-item"><span class="toggle">&#9654;</span><a href="#allowed-shape-types">Allowed shape types</a></div>
        <ul class="sub-items">
      <li class="nav-h4"><a href="#get-api-diagrams-id-shapes"><span class="nav-action">List all shape elements on a diagram.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/diagrams/:id/shapes</span></span></a></li>
      <li class="nav-h4"><a href="#post-api-diagrams-id-shapes"><span class="nav-action">Create a shape on a diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/shapes</span></span></a></li>
      <li class="nav-h4"><a href="#get-api-shapes-id"><span class="nav-action">Get details of a specific shape.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/shapes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#put-api-shapes-id"><span class="nav-action">Update a shape&#x27;s text, URL, or image file.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/shapes/:id</span></span></a></li>
      <li class="nav-h4"><a href="#delete-api-shapes-id"><span class="nav-action">Delete a shape from its diagram.</span><span class="nav-endpoint"><span class="method method-delete">DELETE</span> <span class="path">/api/shapes/:id</span></span></a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="nav-h2 has-children">
    <div class="nav-item"><span class="toggle">&#9654;</span><a href="#additional-endpoints">Additional Endpoints</a></div>
    <ul class="sub-items">
      <li class="nav-h3"><a href="#post-api-diagrams-id-create-view-of"><span class="nav-action">Create a view of an existing model element on a diagram. Useful for showing the same model on multiple diagrams.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/create-view-of</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-diagrams-id-open"><span class="nav-action">Open and activate a diagram in the StarUML editor.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/open</span></span></a></li>
      <li class="nav-h3"><a href="#put-api-diagrams-id-zoom"><span class="nav-action">Set the zoom level of a diagram.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/diagrams/:id/zoom</span></span></a></li>
      <li class="nav-h3"><a href="#get-api-elements-id-relationships"><span class="nav-action">Get all relationships connected to an element.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/elements/:id/relationships</span></span></a></li>
      <li class="nav-h3"><a href="#get-api-elements-id-views"><span class="nav-action">Get all views (visual representations) of a model element across all diagrams.</span><span class="nav-endpoint"><span class="method method-get">GET</span> <span class="path">/api/elements/:id/views</span></span></a></li>
      <li class="nav-h3"><a href="#put-api-elements-id-relocate"><span class="nav-action">Move an element to a different parent element.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/elements/:id/relocate</span></span></a></li>
      <li class="nav-h3"><a href="#put-api-views-id-reconnect"><span class="nav-action">Change the source and/or target of an edge (relation view) on a diagram.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/views/:id/reconnect</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-views-align"><span class="nav-action">Align or distribute views on a diagram.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/views/align</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-mermaid-import"><span class="nav-action">Generate a StarUML diagram from Mermaid syntax text.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/mermaid/import</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-diagrams-generate"><span class="nav-action">Auto-generate a diagram from existing model elements.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/generate</span></span></a></li>
      <li class="nav-h3"><a href="#put-api-elements-id-reorder"><span class="nav-action">Move an element up or down within its parent&#x27;s field.</span><span class="nav-endpoint"><span class="method method-put">PUT</span> <span class="path">/api/elements/:id/reorder</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-project-new"><span class="nav-action">Create a new empty project.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/new</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-project-close"><span class="nav-action">Close the current project.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/close</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-project-export"><span class="nav-action">Export a model element as a fragment file (.mfj).</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/export</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-project-export-all"><span class="nav-action">Export all diagrams in the project as image files.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/export-all</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-diagrams-id-link-object"><span class="nav-action">Create a UMLLinkObject (association class) on an object diagram. This is a composite element that creates an Object + Link + LinkObjectLink.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/diagrams/:id/link-object</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-project-export-doc"><span class="nav-action">Export project documentation as HTML or Markdown.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/project/export-doc</span></span></a></li>
      <li class="nav-h3"><a href="#post-api-validate"><span class="nav-action">Validate the model for integrity issues.</span><span class="nav-endpoint"><span class="method method-post">POST</span> <span class="path">/api/validate</span></span></a></li>
    </ul>
  </li>
</ul>
</nav>

<div id="content">
<h1>StarUML Controller API</h1>

<h2 id="overview">Overview</h2>
<ul>
<li>Protocol: HTTP</li>
<li>Default port: 12345 (configurable from 1 to 65535 via dialog)</li>
<li>Request/Response format: JSON (<code>Content-Type: application/json; charset=utf-8</code>)</li>
<li>CORS: All origins allowed (<code>Access-Control-Allow-Origin: *</code>)</li>
</ul>
<h3 id="general">General</h3>
<h4 id="id-format-and-url-encoding">ID Format and URL Encoding</h4>
<p>StarUML element IDs are Base64-encoded GUIDs that may contain <code>/</code> (slash), <code>+</code> (plus), and <code>=</code> (equals).
When specifying an ID in a URL path parameter, the client must URL-encode it (e.g., <code>/</code>  <code>%2F</code>, <code>+</code>  <code>%2B</code>, <code>=</code>  <code>%3D</code>).
The server automatically URL-decodes path parameters.</p>
<h4 id="common-response-format">Common Response Format</h4>
<p>Success:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;A message describing the operation&quot;,
  &quot;request&quot;: {
    &quot;method&quot;: &quot;POST&quot;,
    &quot;path&quot;: &quot;/api/erd/entities&quot;,
    &quot;body&quot;: { &quot;parentId&quot;: &quot;xxx&quot;, &quot;name&quot;: &quot;users&quot; }
  },
  &quot;data&quot;: { ... }
}
</code></pre>
<p>Error:</p>
<pre><code class="language-json">{
  &quot;success&quot;: false,
  &quot;error&quot;: &quot;Detailed error message&quot;,
  &quot;request&quot;: {
    &quot;method&quot;: &quot;PUT&quot;,
    &quot;path&quot;: &quot;/api/erd/columns/xxx&quot;,
    &quot;body&quot;: { &quot;type&quot;: &quot;INVALID&quot; }
  }
}
</code></pre>
<table>
<thead>
<tr><th>Field</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>success</td><td><code>true</code> on success / <code>false</code> on failure</td></tr>
<tr><td>message</td><td>Success only. Description of the operation performed</td></tr>
<tr><td>error</td><td>Failure only. Detailed reason for the error</td></tr>
<tr><td>request</td><td>Request information (method, path, query?, body?)</td></tr>
<tr><td>data</td><td>Success only. Response data</td></tr>
</tbody>
</table>
<h4 id="input-validation">Input Validation</h4>
<p>All mutation endpoints (POST/PUT) perform the following validation:</p>
<ul>
<li><strong>Unknown field rejection</strong>: Fields not defined in the specification cause an error</li>
<li><strong>Type checking</strong>: Each field value must match the expected type (string, boolean, number, etc.)</li>
<li><strong>Required fields</strong>: Fields defined as required must be present</li>
<li><strong>Empty body rejection</strong>: PUT requests require at least one field</li>
<li><strong>Empty name rejection</strong>: The name field does not accept empty strings</li>
<li><strong>Reference existence check</strong>: ID references (parentId, diagramId, referenceToId, etc.) are verified for existence and correct type</li>
<li><strong>Referential integrity on delete</strong>: Deletion is blocked when other elements reference the target entity or column</li>
<li><strong>Self-reference prevention</strong>: Setting a column&#x27;s referenceToId to its own ID is forbidden</li>
</ul>
<h4 id="tag-kind-constraints">Tag Kind Constraints</h4>
<p>The tag <code>kind</code> field accepts only the following values:</p>
<table>
<thead>
<tr><th>Value</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>0</td><td>string</td></tr>
<tr><td>1</td><td>boolean</td></tr>
<tr><td>2</td><td>number</td></tr>
<tr><td>3</td><td>reference</td></tr>
<tr><td>4</td><td>hidden</td></tr>
</tbody>
</table>
<h4 id="http-status-codes">HTTP Status Codes</h4>
<table>
<thead>
<tr><th>Code</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>200</td><td>Success</td></tr>
<tr><td>400</td><td>Bad request (JSON parse error, validation error, etc.)</td></tr>
<tr><td>404</td><td>Resource not found / Route does not exist</td></tr>
<tr><td>500</td><td>Internal server error</td></tr>
</tbody>
</table>
<h3 id="er-diagram">ER Diagram</h3>
<h4 id="column-type-constraints">Column Type Constraints</h4>
<p>The column <code>type</code> field accepts only the following values (case-insensitive; normalized to uppercase on save):</p>
<p><code>CHAR</code>, <code>VARCHAR</code>, <code>TEXT</code>, <code>CLOB</code>, <code>BOOLEAN</code>, <code>SMALLINT</code>, <code>INTEGER</code>, <code>INT</code>, <code>BIGINT</code>, <code>TINYINT</code>, <code>FLOAT</code>, <code>DOUBLE</code>, <code>REAL</code>, <code>DECIMAL</code>, <code>NUMERIC</code>, <code>DATE</code>, <code>TIME</code>, <code>DATETIME</code>, <code>TIMESTAMP</code>, <code>BLOB</code>, <code>BINARY</code>, <code>VARBINARY</code>, <code>UUID</code>, <code>JSON</code>, <code>JSONB</code>, <code>XML</code>, <code>SERIAL</code>, <code>BIGSERIAL</code></p>
<h4 id="referential-integrity-checks">Referential Integrity Checks</h4>
<p>On DELETE operations, the following checks are performed to maintain data integrity. If a check fails, a 400 error is returned and the deletion is blocked.</p>
<table>
<thead>
<tr><th>Operation</th><th>Check</th><th>Error behavior</th></tr>
</thead>
<tbody>
<tr><td>DELETE DataModel</td><td>Must not contain any entities, relationships, or diagrams</td><td>400: Error message includes child element counts</td></tr>
<tr><td>DELETE Entity</td><td>No columns in other entities may reference this entity&#x27;s columns via referenceTo</td><td>400: Error message includes referencing column details</td></tr>
<tr><td>DELETE Entity</td><td>No relationships may reference this entity via end1/end2</td><td>400: Error message includes referencing relationship details</td></tr>
<tr><td>DELETE Column</td><td>No other columns may reference this column via referenceTo</td><td>400: Error message includes referencing column details</td></tr>
<tr><td>PUT Column</td><td>referenceToId must not be the column&#x27;s own ID</td><td>400: Self-reference error message</td></tr>
</tbody>
</table>
<h3 id="sequence-diagram">Sequence Diagram</h3>
<h4 id="message-sort-constraints">Message Sort Constraints</h4>
<p>The message <code>messageSort</code> field accepts only the following values:</p>
<p><code>synchCall</code>, <code>asynchCall</code>, <code>asynchSignal</code>, <code>createMessage</code>, <code>deleteMessage</code>, <code>reply</code></p>
<h4 id="interaction-operator-constraints">Interaction Operator Constraints</h4>
<p>The combined fragment <code>interactionOperator</code> field accepts only the following values:</p>
<p><code>alt</code>, <code>opt</code>, <code>par</code>, <code>loop</code>, <code>critical</code>, <code>neg</code>, <code>assert</code>, <code>strict</code>, <code>seq</code>, <code>ignore</code>, <code>consider</code>, <code>break</code></p>
<h4 id="sequence-diagram-referential-integrity-checks">Sequence Diagram Referential Integrity Checks</h4>
<table>
<thead>
<tr><th>Operation</th><th>Check</th><th>Error behavior</th></tr>
</thead>
<tbody>
<tr><td>DELETE Interaction</td><td>Must not contain any lifelines, messages, fragments, or diagrams</td><td>400: Error message includes child element counts</td></tr>
<tr><td>DELETE Lifeline</td><td>No messages may reference this lifeline as source or target</td><td>400: Error message includes referencing message details</td></tr>
<tr><td>DELETE Lifeline</td><td>No state invariants may reference this lifeline via covered</td><td>400: Error message includes referencing state invariant details</td></tr>
<tr><td>DELETE CombinedFragment</td><td>Child operands are cascade deleted</td><td>Operands deleted automatically</td></tr>
<tr><td>DELETE InteractionOperand</td><td>Parent fragment must have at least 2 operands</td><td>400: Error message</td></tr>
</tbody>
</table>
<h4 id="sequence-diagram-layout-guide">Sequence Diagram Layout Guide</h4>
<p>When creating sequence diagram elements programmatically, use the following positioning parameters for proper layout:</p>
<table>
<thead>
<tr><th>Element</th><th>Parameter</th><th>Description</th><th>Recommended Value</th></tr>
</thead>
<tbody>
<tr><td>Sequence Diagram</td><td><code>width</code>, <code>height</code></td><td>Frame size</td><td>Calculate based on lifeline count: width = (lifeline count)  250 + 200, height based on message count</td></tr>
<tr><td>Lifeline</td><td><code>x</code>, <code>y</code>, <code>height</code></td><td>Position and timeline length</td><td>x: space 250px apart starting at 150. y: 50. height: (last message y) + 100</td></tr>
<tr><td>Message</td><td><code>y</code></td><td>Vertical position on diagram</td><td>Start at 150, increment by 50 for each message</td></tr>
<tr><td>Message (synchCall)</td><td><code>activationHeight</code></td><td>Activation bar height</td><td>Set to (reply message y) - (this message y) + 10</td></tr>
<tr><td>Combined Fragment</td><td><code>x</code>, <code>y</code>, <code>width</code>, <code>height</code></td><td>Position and size</td><td>x: 30, y/height: cover the messages inside, width: cover all lifelines</td></tr>
</tbody>
</table>
<hr />
<h2 id="endpoint-summary">Endpoint Summary</h2>
<h3 id="general-1">General</h3>
<table>
<thead>
<tr><th>Endpoint</th><th>Method</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>/api/status</td><td>GET</td><td>Health check and endpoint list</td></tr>
<tr><td>/api/elements/:id</td><td>GET</td><td>Get any element by ID</td></tr>
<tr><td>/api/elements/:id</td><td>PUT</td><td>Update any element&#x27;s name/documentation</td></tr>
<tr><td>/api/elements/:id</td><td>DELETE</td><td>Delete any element</td></tr>
<tr><td>/api/elements/:id/tags</td><td>GET</td><td>List tags for an element</td></tr>
<tr><td>/api/elements/:id/tags</td><td>POST</td><td>Create a tag on an element</td></tr>
<tr><td>/api/tags/:id</td><td>GET</td><td>Get tag details</td></tr>
<tr><td>/api/tags/:id</td><td>PUT</td><td>Update a tag</td></tr>
<tr><td>/api/tags/:id</td><td>DELETE</td><td>Delete a tag</td></tr>
<tr><td>/api/diagrams</td><td>GET</td><td>List all diagrams (filterable by type)</td></tr>
<tr><td>/api/diagrams</td><td>POST</td><td>Create any type of diagram</td></tr>
<tr><td>/api/diagrams/:id</td><td>GET</td><td>Get diagram details</td></tr>
<tr><td>/api/diagrams/:id</td><td>PUT</td><td>Update diagram name</td></tr>
<tr><td>/api/diagrams/:id</td><td>DELETE</td><td>Delete a diagram</td></tr>
<tr><td>/api/diagrams/:id/elements</td><td>GET</td><td>List all elements on a diagram (with model info)</td></tr>
<tr><td>/api/diagrams/:id/elements</td><td>POST</td><td>Create any type of node element on a diagram</td></tr>
<tr><td>/api/diagrams/:id/relations</td><td>POST</td><td>Create any type of relation on a diagram</td></tr>
<tr><td>/api/diagrams/:id/export</td><td>POST</td><td>Export diagram as image</td></tr>
<tr><td>/api/diagrams/:id/layout</td><td>POST</td><td>Auto-layout a diagram</td></tr>
<tr><td>/api/diagrams/:id/notes</td><td>GET</td><td>List notes on a diagram</td></tr>
<tr><td>/api/diagrams/:id/notes</td><td>POST</td><td>Create a note on a diagram</td></tr>
<tr><td>/api/notes/:id</td><td>GET</td><td>Get note details</td></tr>
<tr><td>/api/notes/:id</td><td>PUT</td><td>Update a note</td></tr>
<tr><td>/api/notes/:id</td><td>DELETE</td><td>Delete a note</td></tr>
<tr><td>/api/diagrams/:id/note-links</td><td>GET</td><td>List note links on a diagram</td></tr>
<tr><td>/api/diagrams/:id/note-links</td><td>POST</td><td>Create a note link</td></tr>
<tr><td>/api/note-links/:id</td><td>DELETE</td><td>Delete a note link</td></tr>
<tr><td>/api/diagrams/:id/free-lines</td><td>GET</td><td>List free lines on a diagram</td></tr>
<tr><td>/api/diagrams/:id/free-lines</td><td>POST</td><td>Create a free line</td></tr>
<tr><td>/api/free-lines/:id</td><td>DELETE</td><td>Delete a free line</td></tr>
<tr><td>/api/diagrams/:id/shapes</td><td>GET</td><td>List shapes (view-only elements) on a diagram</td></tr>
<tr><td>/api/diagrams/:id/shapes</td><td>POST</td><td>Create a shape on a diagram</td></tr>
<tr><td>/api/shapes/:id</td><td>GET</td><td>Get shape details</td></tr>
<tr><td>/api/shapes/:id</td><td>PUT</td><td>Update a shape</td></tr>
<tr><td>/api/shapes/:id</td><td>DELETE</td><td>Delete a shape</td></tr>
<tr><td>/api/diagrams/:id/create-view-of</td><td>POST</td><td>Create view of existing model on a diagram</td></tr>
<tr><td>/api/diagrams/:id/open</td><td>POST</td><td>Open/activate a diagram</td></tr>
<tr><td>/api/diagrams/:id/zoom</td><td>PUT</td><td>Set diagram zoom level</td></tr>
<tr><td>/api/diagrams/:id/views</td><td>GET</td><td>List all views on a diagram</td></tr>
<tr><td>/api/views/:id</td><td>PUT</td><td>Update view position/size</td></tr>
<tr><td>/api/views/:id/style</td><td>PUT</td><td>Update view style (color, font, etc.)</td></tr>
<tr><td>/api/views/:id/reconnect</td><td>PUT</td><td>Reconnect edge to different source/target</td></tr>
<tr><td>/api/elements/:id/children</td><td>POST</td><td>Create a child element (attribute, operation, etc.)</td></tr>
<tr><td>/api/elements/:id/relationships</td><td>GET</td><td>Get all relationships of an element</td></tr>
<tr><td>/api/elements/:id/views</td><td>GET</td><td>Get all views of a model element</td></tr>
<tr><td>/api/elements/:id/relocate</td><td>PUT</td><td>Move element to a different parent</td></tr>
<tr><td>/api/project/save</td><td>POST</td><td>Save project to file</td></tr>
<tr><td>/api/project/open</td><td>POST</td><td>Open project from file</td></tr>
<tr><td>/api/project/import</td><td>POST</td><td>Import model fragment from file</td></tr>
<tr><td>/api/project/new</td><td>POST</td><td>Create a new project</td></tr>
<tr><td>/api/project/close</td><td>POST</td><td>Close current project</td></tr>
<tr><td>/api/project/export</td><td>POST</td><td>Export element as fragment file</td></tr>
<tr><td>/api/project/export-all</td><td>POST</td><td>Export all diagrams as images</td></tr>
<tr><td>/api/validate</td><td>POST</td><td>Validate model integrity</td></tr>
<tr><td>/api/undo</td><td>POST</td><td>Undo last operation</td></tr>
<tr><td>/api/redo</td><td>POST</td><td>Redo last undone operation</td></tr>
<tr><td>/api/search</td><td>GET</td><td>Search elements by keyword</td></tr>
<tr><td>/api/views/align</td><td>POST</td><td>Align/distribute views</td></tr>
<tr><td>/api/mermaid/import</td><td>POST</td><td>Import Mermaid syntax</td></tr>
<tr><td>/api/diagrams/generate</td><td>POST</td><td>Generate diagram from model</td></tr>
<tr><td>/api/elements/:id/reorder</td><td>PUT</td><td>Reorder element within parent</td></tr>
<tr><td>/api/diagrams/:id/link-object</td><td>POST</td><td>Create UMLLinkObject</td></tr>
<tr><td>/api/project/export-doc</td><td>POST</td><td>Export project as HTML/Markdown</td></tr>
</tbody>
</table>
<h3 id="er-diagram-1">ER Diagram</h3>
<table>
<thead>
<tr><th>Endpoint</th><th>Method</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>/api/erd/diagrams</td><td>GET</td><td>List all ER diagrams</td></tr>
<tr><td>/api/erd/diagrams</td><td>POST</td><td>Create an ER diagram</td></tr>
<tr><td>/api/erd/diagrams/:id</td><td>GET</td><td>Get diagram details</td></tr>
<tr><td>/api/erd/diagrams/:id</td><td>PUT</td><td>Update a diagram</td></tr>
<tr><td>/api/erd/diagrams/:id</td><td>DELETE</td><td>Delete a diagram</td></tr>
<tr><td>/api/erd/data-models</td><td>GET</td><td>List all data models</td></tr>
<tr><td>/api/erd/data-models</td><td>POST</td><td>Create a data model</td></tr>
<tr><td>/api/erd/data-models/:id</td><td>GET</td><td>Get data model details</td></tr>
<tr><td>/api/erd/data-models/:id</td><td>PUT</td><td>Update a data model</td></tr>
<tr><td>/api/erd/data-models/:id</td><td>DELETE</td><td>Delete a data model</td></tr>
<tr><td>/api/erd/entities</td><td>GET</td><td>List entities (filterable)</td></tr>
<tr><td>/api/erd/entities</td><td>POST</td><td>Create an entity</td></tr>
<tr><td>/api/erd/entities/:id</td><td>GET</td><td>Get entity details</td></tr>
<tr><td>/api/erd/entities/:id</td><td>PUT</td><td>Update an entity</td></tr>
<tr><td>/api/erd/entities/:id</td><td>DELETE</td><td>Delete an entity</td></tr>
<tr><td>/api/erd/entities/:id/columns</td><td>GET</td><td>List columns of an entity</td></tr>
<tr><td>/api/erd/entities/:id/columns</td><td>POST</td><td>Create a column</td></tr>
<tr><td>/api/erd/columns/:id</td><td>GET</td><td>Get column details</td></tr>
<tr><td>/api/erd/columns/:id</td><td>PUT</td><td>Update a column</td></tr>
<tr><td>/api/erd/columns/:id</td><td>DELETE</td><td>Delete a column</td></tr>
<tr><td>/api/erd/entities/:id/sequences</td><td>GET</td><td>List sequences of an entity</td></tr>
<tr><td>/api/erd/entities/:id/sequences</td><td>POST</td><td>Create a sequence</td></tr>
<tr><td>/api/erd/sequences/:id</td><td>GET</td><td>Get sequence details</td></tr>
<tr><td>/api/erd/sequences/:id</td><td>PUT</td><td>Update a sequence</td></tr>
<tr><td>/api/erd/sequences/:id</td><td>DELETE</td><td>Delete a sequence</td></tr>
<tr><td>/api/erd/entities/:id/indexes</td><td>GET</td><td>List indexes of an entity</td></tr>
<tr><td>/api/erd/entities/:id/indexes</td><td>POST</td><td>Create an index</td></tr>
<tr><td>/api/erd/indexes/:id</td><td>GET</td><td>Get index details</td></tr>
<tr><td>/api/erd/indexes/:id</td><td>PUT</td><td>Update an index</td></tr>
<tr><td>/api/erd/indexes/:id</td><td>DELETE</td><td>Delete an index</td></tr>
<tr><td>/api/erd/relationships</td><td>GET</td><td>List relationships (filterable)</td></tr>
<tr><td>/api/erd/relationships</td><td>POST</td><td>Create a relationship</td></tr>
<tr><td>/api/erd/relationships/:id</td><td>GET</td><td>Get relationship details</td></tr>
<tr><td>/api/erd/relationships/:id</td><td>PUT</td><td>Update a relationship</td></tr>
<tr><td>/api/erd/relationships/:id</td><td>DELETE</td><td>Delete a relationship</td></tr>
<tr><td>/api/erd/postgresql/ddl</td><td>POST</td><td>Generate PostgreSQL DDL</td></tr>
</tbody>
</table>
<h3 id="sequence-diagram-1">Sequence Diagram</h3>
<table>
<thead>
<tr><th>Endpoint</th><th>Method</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>/api/seq/interactions</td><td>GET</td><td>List all interactions</td></tr>
<tr><td>/api/seq/interactions</td><td>POST</td><td>Create an interaction</td></tr>
<tr><td>/api/seq/interactions/:id</td><td>GET</td><td>Get interaction details</td></tr>
<tr><td>/api/seq/interactions/:id</td><td>PUT</td><td>Update an interaction</td></tr>
<tr><td>/api/seq/interactions/:id</td><td>DELETE</td><td>Delete an interaction</td></tr>
<tr><td>/api/seq/diagrams</td><td>GET</td><td>List all sequence diagrams</td></tr>
<tr><td>/api/seq/diagrams</td><td>POST</td><td>Create a sequence diagram</td></tr>
<tr><td>/api/seq/diagrams/:id</td><td>GET</td><td>Get sequence diagram details</td></tr>
<tr><td>/api/seq/diagrams/:id</td><td>PUT</td><td>Update a sequence diagram</td></tr>
<tr><td>/api/seq/diagrams/:id</td><td>DELETE</td><td>Delete a sequence diagram</td></tr>
<tr><td>/api/seq/interactions/:id/lifelines</td><td>GET</td><td>List lifelines of an interaction</td></tr>
<tr><td>/api/seq/interactions/:id/lifelines</td><td>POST</td><td>Create a lifeline</td></tr>
<tr><td>/api/seq/lifelines/:id</td><td>GET</td><td>Get lifeline details</td></tr>
<tr><td>/api/seq/lifelines/:id</td><td>PUT</td><td>Update a lifeline</td></tr>
<tr><td>/api/seq/lifelines/:id</td><td>DELETE</td><td>Delete a lifeline</td></tr>
<tr><td>/api/seq/interactions/:id/messages</td><td>GET</td><td>List messages of an interaction</td></tr>
<tr><td>/api/seq/interactions/:id/messages</td><td>POST</td><td>Create a message</td></tr>
<tr><td>/api/seq/messages/:id</td><td>GET</td><td>Get message details</td></tr>
<tr><td>/api/seq/messages/:id</td><td>PUT</td><td>Update a message</td></tr>
<tr><td>/api/seq/messages/:id</td><td>DELETE</td><td>Delete a message</td></tr>
<tr><td>/api/seq/interactions/:id/combined-fragments</td><td>GET</td><td>List combined fragments</td></tr>
<tr><td>/api/seq/interactions/:id/combined-fragments</td><td>POST</td><td>Create a combined fragment</td></tr>
<tr><td>/api/seq/combined-fragments/:id</td><td>GET</td><td>Get combined fragment details</td></tr>
<tr><td>/api/seq/combined-fragments/:id</td><td>PUT</td><td>Update a combined fragment</td></tr>
<tr><td>/api/seq/combined-fragments/:id</td><td>DELETE</td><td>Delete a combined fragment</td></tr>
<tr><td>/api/seq/combined-fragments/:id/operands</td><td>GET</td><td>List operands of a combined fragment</td></tr>
<tr><td>/api/seq/combined-fragments/:id/operands</td><td>POST</td><td>Add an operand</td></tr>
<tr><td>/api/seq/operands/:id</td><td>GET</td><td>Get operand details</td></tr>
<tr><td>/api/seq/operands/:id</td><td>PUT</td><td>Update an operand</td></tr>
<tr><td>/api/seq/operands/:id</td><td>DELETE</td><td>Delete an operand</td></tr>
<tr><td>/api/seq/interactions/:id/state-invariants</td><td>GET</td><td>List state invariants</td></tr>
<tr><td>/api/seq/interactions/:id/state-invariants</td><td>POST</td><td>Create a state invariant</td></tr>
<tr><td>/api/seq/state-invariants/:id</td><td>GET</td><td>Get state invariant details</td></tr>
<tr><td>/api/seq/state-invariants/:id</td><td>PUT</td><td>Update a state invariant</td></tr>
<tr><td>/api/seq/state-invariants/:id</td><td>DELETE</td><td>Delete a state invariant</td></tr>
<tr><td>/api/seq/interactions/:id/interaction-uses</td><td>GET</td><td>List interaction uses</td></tr>
<tr><td>/api/seq/interactions/:id/interaction-uses</td><td>POST</td><td>Create an interaction use</td></tr>
<tr><td>/api/seq/interaction-uses/:id</td><td>GET</td><td>Get interaction use details</td></tr>
<tr><td>/api/seq/interaction-uses/:id</td><td>PUT</td><td>Update an interaction use</td></tr>
<tr><td>/api/seq/interaction-uses/:id</td><td>DELETE</td><td>Delete an interaction use</td></tr>
</tbody>
</table>
<hr />
<h2 id="general-2">General</h2>
<h3 id="status">Status</h3>
<h4 id="get-api-status">GET /api/status</h4>
<div class="endpoint-action">Return the server health check and a list of available endpoints. <code>GET /</code> returns the same response.</div>
<p>Return the server health check and a list of available endpoints. <code>GET /</code> returns the same response.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Server is running&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/status&quot; },
  &quot;data&quot;: {
    &quot;status&quot;: &quot;running&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;allowedColumnTypes&quot;: [&quot;CHAR&quot;, &quot;VARCHAR&quot;, &quot;TEXT&quot;, &quot;...&quot;],
    &quot;allowedTagKinds&quot;: { &quot;0&quot;: &quot;string&quot;, &quot;1&quot;: &quot;boolean&quot;, &quot;2&quot;: &quot;number&quot;, &quot;3&quot;: &quot;reference&quot;, &quot;4&quot;: &quot;hidden&quot; },
    &quot;allowedMessageSorts&quot;: [&quot;synchCall&quot;, &quot;asynchCall&quot;, &quot;asynchSignal&quot;, &quot;createMessage&quot;, &quot;deleteMessage&quot;, &quot;reply&quot;],
    &quot;allowedInteractionOperators&quot;: [&quot;alt&quot;, &quot;opt&quot;, &quot;par&quot;, &quot;loop&quot;, &quot;critical&quot;, &quot;neg&quot;, &quot;assert&quot;, &quot;strict&quot;, &quot;seq&quot;, &quot;ignore&quot;, &quot;consider&quot;, &quot;break&quot;],
    &quot;allowedDiagramTypes&quot;: [&quot;UMLClassDiagram&quot;, &quot;UMLPackageDiagram&quot;, &quot;...&quot;],
    &quot;allowedNodeTypes&quot;: [&quot;UMLClass&quot;, &quot;UMLInterface&quot;, &quot;...&quot;],
    &quot;allowedRelationTypes&quot;: [&quot;UMLAssociation&quot;, &quot;UMLDependency&quot;, &quot;...&quot;],
    &quot;allowedChildTypes&quot;: [&quot;UMLAttribute&quot;, &quot;UMLOperation&quot;, &quot;...&quot;],
    &quot;allowedShapeTypes&quot;: [&quot;Text&quot;, &quot;TextBox&quot;, &quot;Rect&quot;, &quot;RoundRect&quot;, &quot;Ellipse&quot;, &quot;Hyperlink&quot;, &quot;Image&quot;, &quot;UMLFrame&quot;],
    &quot;allowedAlignmentActions&quot;: [&quot;align-left&quot;, &quot;align-right&quot;, &quot;align-center&quot;, &quot;align-top&quot;, &quot;align-bottom&quot;, &quot;align-middle&quot;, &quot;space-equally-horizontally&quot;, &quot;space-equally-vertically&quot;, &quot;set-width-equally&quot;, &quot;set-height-equally&quot;, &quot;set-size-equally&quot;, &quot;send-to-back&quot;, &quot;bring-to-front&quot;],
    &quot;allowedMermaidTypes&quot;: [&quot;classDiagram&quot;, &quot;sequenceDiagram&quot;, &quot;flowchart&quot;, &quot;erDiagram&quot;, &quot;mindmap&quot;, &quot;requirementDiagram&quot;, &quot;stateDiagram&quot;],
    &quot;allowedGeneratorTypes&quot;: [&quot;overview&quot;, &quot;overview-expanded&quot;, &quot;type-hierarchy&quot;, &quot;package-structure&quot;],
    &quot;endpoints&quot;: [
      &quot;GET  /api/status&quot;,
      &quot;GET  /api/erd/diagrams&quot;,
      &quot;GET  /api/erd/data-models&quot;,
      &quot;...&quot;
    ]
  }
}
</code></pre>
<hr />
<h3 id="elements">Elements</h3>
<h4 id="get-api-elements-id">GET /api/elements/:id</h4>
<div class="endpoint-action">Get any element by its ID. The element is serialized in a format appropriate for its type.</div>
<p>Get any element by its ID. The element is serialized in a format appropriate for its type.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: An object in the format corresponding to the element&#x27;s type:</p>
<table>
<thead>
<tr><th>Type</th><th>Serialization format</th></tr>
</thead>
<tbody>
<tr><td>ERDEntity</td><td>Entity object (including columns and tags)</td></tr>
<tr><td>ERDColumn</td><td>Column object</td></tr>
<tr><td>ERDDiagram</td><td>Diagram object</td></tr>
<tr><td>ERDRelationship</td><td>Relationship object</td></tr>
<tr><td>Tag</td><td>Tag object</td></tr>
<tr><td>Other</td><td>Basic object (_id, _type, name, documentation)</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-elements-id">PUT /api/elements/:id</h4>
<div class="endpoint-action">Update the <code>name</code> and/or <code>documentation</code> of any element.</div>
<p>Update the <code>name</code> and/or <code>documentation</code> of any element.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>New name (must be non-empty)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>New documentation</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;UpdatedName&quot;,
  &quot;documentation&quot;: &quot;Updated description&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated element in basic format (<code>_id</code>, <code>_type</code>, <code>name</code>, <code>documentation</code>).</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: No fields provided (at least one required)</li>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>404: Element with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-elements-id">DELETE /api/elements/:id</h4>
<div class="endpoint-action">Delete any element by its ID. Associated views on diagrams are also deleted.</div>
<p>Delete any element by its ID. Associated views on diagrams are also deleted.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted element \&quot;MyElement\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/elements/AAAAAAGVxxxx&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVxxxx&quot;, &quot;name&quot;: &quot;MyElement&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element with the specified ID not found</li>
</ul>
<hr />
<h3 id="diagrams-all-types">Diagrams (All Types)</h3>
<h4 id="get-api-diagrams">GET /api/diagrams</h4>
<div class="endpoint-action">List all diagrams across all types (ERD, Sequence, etc.). Optionally filter by type.</div>
<p>List all diagrams across all types (ERD, Sequence, etc.). Optionally filter by type.</p>
<p><strong>Query parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Filter by diagram type (e.g., <code>ERDDiagram</code>, <code>UMLSequenceDiagram</code>)</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 3 diagram(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVaaaa&quot;,
      &quot;_type&quot;: &quot;ERDDiagram&quot;,
      &quot;name&quot;: &quot;ERDDiagram1&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVbbbb&quot;,
      &quot;ownedViewsCount&quot;: 5
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown query parameter(s)</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-export">POST /api/diagrams/:id/export</h4>
<div class="endpoint-action">Export a diagram as an image file (PNG, JPEG, SVG, or PDF).</div>
<p>Export a diagram as an image file (PNG, JPEG, SVG, or PDF).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path for the output file (e.g., <code>&quot;/tmp/diagram.png&quot;</code>)</td></tr>
<tr><td>format</td><td>string</td><td>No</td><td>Image format: <code>png</code> (default), <code>jpeg</code>, <code>svg</code>, <code>pdf</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/tmp/my-diagram.png&quot;,
  &quot;format&quot;: &quot;png&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Exported diagram \&quot;ERDDiagram1\&quot; as png to \&quot;/tmp/my-diagram.png\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVaaaa/export&quot;, &quot;body&quot;: { &quot;path&quot;: &quot;/tmp/my-diagram.png&quot;, &quot;format&quot;: &quot;png&quot; } },
  &quot;data&quot;: { &quot;path&quot;: &quot;/tmp/my-diagram.png&quot;, &quot;format&quot;: &quot;png&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing, empty, or not an absolute path</li>
<li>400: <code>format</code> is not one of <code>png</code>, <code>jpeg</code>, <code>svg</code>, <code>pdf</code></li>
<li>400: Unknown fields present</li>
<li>404: Diagram with the specified ID not found</li>
<li>500: Export failed (internal error)</li>
</ul>
<hr />
<h3 id="notes">Notes</h3>
<p>Notes are view-only elements (no backing model) that display text on a diagram.</p>
<h4 id="get-api-diagrams-id-notes">GET /api/diagrams/:id/notes</h4>
<div class="endpoint-action">List all notes on the specified diagram.</div>
<p>List all notes on the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 note(s) from diagram \&quot;ERDDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVaaaa/notes&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVnnnn&quot;,
      &quot;_type&quot;: &quot;UMLNoteView&quot;,
      &quot;text&quot;: &quot;This is a note&quot;,
      &quot;left&quot;: 100,
      &quot;top&quot;: 100,
      &quot;width&quot;: 150,
      &quot;height&quot;: 80
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-notes">POST /api/diagrams/:id/notes</h4>
<div class="endpoint-action">Create a note on the specified diagram.</div>
<p>Create a note on the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>text</td><td>string</td><td>No</td><td>Note text</td></tr>
<tr><td>x1</td><td>number</td><td>No</td><td>Left position (default: 100)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Top position (default: 100)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>Right position (default: 250)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>Bottom position (default: 180)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;text&quot;: &quot;Important design note&quot;,
  &quot;x1&quot;: 100,
  &quot;y1&quot;: 100,
  &quot;x2&quot;: 250,
  &quot;y2&quot;: 180
}
</code></pre>
<p><strong>Response</strong>: The created note object.</p>
<p><strong>Note object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Note view ID</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLNoteView&quot;</code></td></tr>
<tr><td>text</td><td>string</td><td>Note text</td></tr>
<tr><td>left</td><td>number</td><td>Left position</td></tr>
<tr><td>top</td><td>number</td><td>Top position</td></tr>
<tr><td>width</td><td>number</td><td>Width</td></tr>
<tr><td>height</td><td>number</td><td>Height</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields or type mismatch</li>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-notes-id">GET /api/notes/:id</h4>
<div class="endpoint-action">Get a note by its ID.</div>
<p>Get a note by its ID.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Note view ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: The note object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Note with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-notes-id">PUT /api/notes/:id</h4>
<div class="endpoint-action">Update the text of a note.</div>
<p>Update the text of a note.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Note view ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>text</td><td>string</td><td>No</td><td>Updated note text</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;text&quot;: &quot;Updated note text&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated note object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: No fields provided (at least one required)</li>
<li>400: Unknown fields or type mismatch</li>
<li>404: Note with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-notes-id">DELETE /api/notes/:id</h4>
<div class="endpoint-action">Delete a note.</div>
<p>Delete a note.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Note view ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted note&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/notes/AAAAAAGVnnnn&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVnnnn&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Note with the specified ID not found</li>
</ul>
<hr />
<h3 id="note-links">Note Links</h3>
<p>Note links connect a note to another element on a diagram. They are view-only edge elements.</p>
<h4 id="get-api-diagrams-id-note-links">GET /api/diagrams/:id/note-links</h4>
<div class="endpoint-action">List all note links on the specified diagram.</div>
<p>List all note links on the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 note link(s) from diagram \&quot;ERDDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVaaaa/note-links&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVllll&quot;,
      &quot;_type&quot;: &quot;UMLNoteLinkView&quot;,
      &quot;noteId&quot;: &quot;AAAAAAGVnnnn&quot;,
      &quot;targetId&quot;: &quot;AAAAAAGVvvvv&quot;
    }
  ]
}
</code></pre>
<p><strong>Note link object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Note link view ID</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLNoteLinkView&quot;</code></td></tr>
<tr><td>noteId</td><td>string</td><td>ID of the note view (tail)</td></tr>
<tr><td>targetId</td><td>string</td><td>ID of the target view (head)</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-note-links">POST /api/diagrams/:id/note-links</h4>
<div class="endpoint-action">Create a note link connecting a note to another element on the diagram.</div>
<p>Create a note link connecting a note to another element on the diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>noteId</td><td>string</td><td>Yes</td><td>ID of the note view on this diagram</td></tr>
<tr><td>targetId</td><td>string</td><td>Yes</td><td>ID of the target element (view ID or model ID) on this diagram</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;noteId&quot;: &quot;AAAAAAGVnnnn&quot;,
  &quot;targetId&quot;: &quot;AAAAAAGVvvvv&quot;
}
</code></pre>
<p><strong>Response</strong>: The created note link object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>noteId</code> or <code>targetId</code> is missing</li>
<li>400: <code>noteId</code> does not refer to a UMLNoteView on this diagram</li>
<li>400: <code>targetId</code> does not refer to a view on this diagram</li>
<li>400: Unknown fields or type mismatch</li>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-note-links-id">DELETE /api/note-links/:id</h4>
<div class="endpoint-action">Delete a note link.</div>
<p>Delete a note link.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Note link view ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted note link&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/note-links/AAAAAAGVllll&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVllll&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Note link with the specified ID not found</li>
</ul>
<hr />
<h3 id="free-lines">Free Lines</h3>
<p>Free lines are view-only edge elements drawn between two points on a diagram.</p>
<h4 id="get-api-diagrams-id-free-lines">GET /api/diagrams/:id/free-lines</h4>
<div class="endpoint-action">List all free lines on the specified diagram.</div>
<p>List all free lines on the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 free line(s) from diagram \&quot;ERDDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVaaaa/free-lines&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVffff&quot;,
      &quot;_type&quot;: &quot;FreelineEdgeView&quot;,
      &quot;x1&quot;: 100,
      &quot;y1&quot;: 100,
      &quot;x2&quot;: 300,
      &quot;y2&quot;: 200
    }
  ]
}
</code></pre>
<p><strong>Free line object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Free line view ID</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;FreelineEdgeView&quot;</code></td></tr>
<tr><td>x1</td><td>number</td><td>Start X coordinate</td></tr>
<tr><td>y1</td><td>number</td><td>Start Y coordinate</td></tr>
<tr><td>x2</td><td>number</td><td>End X coordinate</td></tr>
<tr><td>y2</td><td>number</td><td>End Y coordinate</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-free-lines">POST /api/diagrams/:id/free-lines</h4>
<div class="endpoint-action">Create a free line on the specified diagram.</div>
<p>Create a free line on the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>x1</td><td>number</td><td>No</td><td>Start X coordinate (default: 100)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Start Y coordinate (default: 100)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>End X coordinate (default: 300)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>End Y coordinate (default: 200)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;x1&quot;: 100,
  &quot;y1&quot;: 100,
  &quot;x2&quot;: 300,
  &quot;y2&quot;: 200
}
</code></pre>
<p><strong>Response</strong>: The created free line object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields or type mismatch</li>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-free-lines-id">DELETE /api/free-lines/:id</h4>
<div class="endpoint-action">Delete a free line.</div>
<p>Delete a free line.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Free line view ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted free line&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/free-lines/AAAAAAGVffff&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVffff&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Free line with the specified ID not found</li>
</ul>
<hr />
<h3 id="views-move-resize">Views (Move/Resize)</h3>
<p>Views represent visual elements on a diagram with position and size information.</p>
<h4 id="get-api-diagrams-id-views">GET /api/diagrams/:id/views</h4>
<div class="endpoint-action">List all views on the specified diagram with position and size information.</div>
<p>List all views on the specified diagram with position and size information.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 5 view(s) from diagram \&quot;ERDDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVaaaa/views&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVvvvv&quot;,
      &quot;_type&quot;: &quot;ERDEntityView&quot;,
      &quot;modelId&quot;: &quot;AAAAAAGVeeee&quot;,
      &quot;left&quot;: 100,
      &quot;top&quot;: 50,
      &quot;width&quot;: 200,
      &quot;height&quot;: 150
    }
  ]
}
</code></pre>
<p><strong>View object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>View ID</td></tr>
<tr><td>_type</td><td>string</td><td>View type (e.g., <code>&quot;ERDEntityView&quot;</code>, <code>&quot;UMLNoteView&quot;</code>)</td></tr>
<tr><td>modelId</td><td>string</td><td>ID of the backing model element (if any)</td></tr>
<tr><td>left</td><td>number</td><td>Left position (NodeView only)</td></tr>
<tr><td>top</td><td>number</td><td>Top position (NodeView only)</td></tr>
<tr><td>width</td><td>number</td><td>Width (NodeView only)</td></tr>
<tr><td>height</td><td>number</td><td>Height (NodeView only)</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-views-id">PUT /api/views/:id</h4>
<div class="endpoint-action">Update the position and/or size of a view. Only applicable to NodeView-type elements (box-shaped views).</div>
<p>Update the position and/or size of a view. Only applicable to NodeView-type elements (box-shaped views).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>View ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>left</td><td>number</td><td>No</td><td>New left position</td></tr>
<tr><td>top</td><td>number</td><td>No</td><td>New top position</td></tr>
<tr><td>width</td><td>number</td><td>No</td><td>New width</td></tr>
<tr><td>height</td><td>number</td><td>No</td><td>New height</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;left&quot;: 200,
  &quot;top&quot;: 150,
  &quot;width&quot;: 300,
  &quot;height&quot;: 200
}
</code></pre>
<p><strong>Response</strong>: The updated view object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: No fields provided (at least one required)</li>
<li>400: Unknown fields or type mismatch</li>
<li>404: View with the specified ID not found</li>
</ul>
<hr />
<h3 id="tags">Tags</h3>
<h4 id="get-api-elements-id-tags">GET /api/elements/:id/tags</h4>
<div class="endpoint-action">List all tags attached to the specified element (entity, column, or any other element).</div>
<p>List all tags attached to the specified element (entity, column, or any other element).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 tag(s) from \&quot;users\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/elements/AAAAAAGVyyyy/tags&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVtttt&quot;,
      &quot;_type&quot;: &quot;Tag&quot;,
      &quot;name&quot;: &quot;schema&quot;,
      &quot;kind&quot;: 0,
      &quot;value&quot;: &quot;public&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-elements-id-tags">POST /api/elements/:id/tags</h4>
<div class="endpoint-action">Create a new tag on the specified element.</div>
<p>Create a new tag on the specified element.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Tag name (default: <code>&quot;new_tag&quot;</code>)</td></tr>
<tr><td>kind</td><td>number</td><td>No</td><td>Tag kind. <code>0</code>=string, <code>1</code>=boolean, <code>2</code>=number, <code>3</code>=reference, <code>4</code>=hidden</td></tr>
<tr><td>value</td><td>string\</td><td>number\</td><td>boolean</td><td>No</td><td>Tag value</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;schema&quot;,
  &quot;kind&quot;: 0,
  &quot;value&quot;: &quot;public&quot;
}
</code></pre>
<p><strong>Response</strong>: The created tag object. <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: <code>kind</code> is not an allowed value (error message lists allowed values)</li>
<li>400: <code>value</code> is not a string, number, or boolean</li>
<li>404: Element with the specified ID not found</li>
</ul>
<p><strong>Tag object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the tag</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;Tag&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Tag name</td></tr>
<tr><td>kind</td><td>number</td><td>Tag kind (0=string, 1=boolean, 2=number, 3=reference, 4=hidden)</td></tr>
<tr><td>value</td><td>string\</td><td>number\</td><td>boolean</td><td>Tag value</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent element ID</td></tr>
</tbody>
</table>
<hr />
<h4 id="get-api-tags-id">GET /api/tags/:id</h4>
<div class="endpoint-action">Get the details of the specified tag.</div>
<p>Get the details of the specified tag.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Tag ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Tag object (same format as POST /api/elements/:id/tags response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Tag with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-tags-id">PUT /api/tags/:id</h4>
<div class="endpoint-action">Update the specified tag. Only the specified fields are updated.</div>
<p>Update the specified tag. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Tag ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Tag name</td></tr>
<tr><td>kind</td><td>number</td><td>No</td><td>Tag kind</td></tr>
<tr><td>value</td><td>string\</td><td>number\</td><td>boolean</td><td>No</td><td>Tag value</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;value&quot;: &quot;private&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated tag object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: <code>kind</code> is not an allowed value (error message lists allowed values)</li>
<li>400: <code>value</code> is not a string, number, or boolean</li>
<li>404: Tag with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-tags-id">DELETE /api/tags/:id</h4>
<div class="endpoint-action">Delete the specified tag.</div>
<p>Delete the specified tag.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Tag ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted tag \&quot;schema\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/tags/AAAAAAGVtttt&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVtttt&quot;, &quot;name&quot;: &quot;schema&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Tag with the specified ID not found</li>
</ul>
<hr />
<h3 id="project">Project</h3>
<h4 id="post-api-project-save">POST /api/project/save</h4>
<div class="endpoint-action">Save the project to the specified absolute path. No dialog is displayed.</div>
<p>Save the project to the specified absolute path. No dialog is displayed.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path to save the project (e.g., <code>&quot;/Users/xxx/project.mdj&quot;</code>). Extension must be <code>.mdj</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Project saved to \&quot;/Users/xxx/my-project.mdj\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/project/save&quot;, &quot;body&quot;: { &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot; } },
  &quot;data&quot;: { &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing, empty, or not a string</li>
<li>400: <code>path</code> is not an absolute path (relative paths are not allowed)</li>
<li>400: <code>path</code> extension is not <code>.mdj</code></li>
<li>400: Unknown fields present</li>
<li>400: Save operation failed (filesystem error, etc.)</li>
</ul>
<hr />
<h4 id="post-api-project-open">POST /api/project/open</h4>
<div class="endpoint-action">Open an existing <code>.mdj</code> file from the specified absolute path. No dialog is displayed.</div>
<p>Open an existing <code>.mdj</code> file from the specified absolute path. No dialog is displayed.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path to the file (e.g., <code>&quot;/Users/xxx/project.mdj&quot;</code>). Extension must be <code>.mdj</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Project opened from \&quot;/Users/xxx/my-project.mdj\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/project/open&quot;, &quot;body&quot;: { &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot; } },
  &quot;data&quot;: { &quot;path&quot;: &quot;/Users/xxx/my-project.mdj&quot;, &quot;projectName&quot;: &quot;MyProject&quot; }
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Absolute path of the opened file</td></tr>
<tr><td>projectName</td><td>string</td><td>Project name</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing, empty, or not a string</li>
<li>400: <code>path</code> is not an absolute path (relative paths are not allowed)</li>
<li>400: <code>path</code> extension is not <code>.mdj</code></li>
<li>400: Unknown fields present</li>
<li>400: Open operation failed (file does not exist, etc.)</li>
</ul>
<hr />
<h3 id="generic-diagram-creation">Generic Diagram Creation</h3>
<h4 id="post-api-diagrams">POST /api/diagrams</h4>
<div class="endpoint-action">Create any type of diagram. Supports UML, BPMN, C4, SysML, Wireframe, MindMap, Cloud (AWS/Azure/GCP), Flowchart, and DFD.</div>
<p>Create any type of diagram. Supports UML, BPMN, C4, SysML, Wireframe, MindMap, Cloud (AWS/Azure/GCP), Flowchart, and DFD.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Diagram type (see allowed types below)</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Diagram name (default: auto-generated)</td></tr>
<tr><td>parentId</td><td>string</td><td>No</td><td>Parent element ID (default: project root)</td></tr>
</tbody>
</table>
<p><strong>Allowed diagram types (27)</strong>:</p>
<table>
<thead>
<tr><th>Category</th><th>Types</th></tr>
</thead>
<tbody>
<tr><td>UML</td><td><code>UMLClassDiagram</code>, <code>UMLPackageDiagram</code>, <code>UMLObjectDiagram</code>, <code>UMLComponentDiagram</code>, <code>UMLDeploymentDiagram</code>, <code>UMLUseCaseDiagram</code>, <code>UMLStatechartDiagram</code>, <code>UMLActivityDiagram</code>, <code>UMLCommunicationDiagram</code>, <code>UMLCompositeStructureDiagram</code>, <code>UMLProfileDiagram</code>, <code>UMLTimingDiagram</code>, <code>UMLInteractionOverviewDiagram</code>, <code>UMLInformationFlowDiagram</code></td></tr>
<tr><td>Flowchart / DFD</td><td><code>FCFlowchartDiagram</code>, <code>DFDDiagram</code></td></tr>
<tr><td>BPMN / C4</td><td><code>BPMNDiagram</code>, <code>C4Diagram</code></td></tr>
<tr><td>SysML</td><td><code>SysMLRequirementDiagram</code>, <code>SysMLBlockDefinitionDiagram</code>, <code>SysMLInternalBlockDiagram</code>, <code>SysMLParametricDiagram</code></td></tr>
<tr><td>Wireframe / MindMap</td><td><code>WFWireframeDiagram</code>, <code>MMMindmapDiagram</code></td></tr>
<tr><td>Cloud</td><td><code>AWSDiagram</code>, <code>AzureDiagram</code>, <code>GCPDiagram</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;UMLClassDiagram&quot;,
  &quot;name&quot;: &quot;Domain Model&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created diagram \&quot;Domain Model\&quot; (UMLClassDiagram)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/diagrams&quot;, &quot;body&quot;: { &quot;type&quot;: &quot;UMLClassDiagram&quot;, &quot;name&quot;: &quot;Domain Model&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Domain Model&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
    &quot;ownedViewsCount&quot;: 1
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>type</code> is missing or invalid</li>
<li>400: <code>parentId</code> not found</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h4 id="get-api-diagrams-id">GET /api/diagrams/:id</h4>
<div class="endpoint-action">Get detailed information about a specific diagram.</div>
<p>Get detailed information about a specific diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved diagram \&quot;Domain Model\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVxxxx&quot; },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Domain Model&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
    &quot;ownedViewsCount&quot;: 5
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
</ul>
<hr />
<h4 id="put-api-diagrams-id">PUT /api/diagrams/:id</h4>
<div class="endpoint-action">Update a diagram&#x27;s name.</div>
<p>Update a diagram&#x27;s name.</p>
<blockquote><p><strong>Note</strong>: Only <code>name</code> can be updated via this endpoint. To update <code>documentation</code>, use <code>PUT /api/elements/:id</code>.</p></blockquote>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>New diagram name</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Updated diagram \&quot;Renamed Diagram\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Renamed Diagram&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
    &quot;ownedViewsCount&quot;: 5
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: Empty body or unknown fields</li>
</ul>
<hr />
<h4 id="delete-api-diagrams-id">DELETE /api/diagrams/:id</h4>
<div class="endpoint-action">Delete a diagram and all its views.</div>
<p>Delete a diagram and all its views.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
</ul>
<hr />
<h3 id="diagram-elements">Diagram Elements</h3>
<h4 id="get-api-diagrams-id-elements">GET /api/diagrams/:id/elements</h4>
<div class="endpoint-action">List all elements on a diagram with model information.</div>
<p>List all elements on a diagram with model information.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 3 element(s) from diagram \&quot;Domain Model\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVxxxx/elements&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVview1&quot;,
      &quot;_type&quot;: &quot;UMLClassView&quot;,
      &quot;modelId&quot;: &quot;AAAAAAGVmodel1&quot;,
      &quot;modelType&quot;: &quot;UMLClass&quot;,
      &quot;name&quot;: &quot;User&quot;,
      &quot;left&quot;: 100,
      &quot;top&quot;: 100,
      &quot;width&quot;: 150,
      &quot;height&quot;: 80
    }
  ]
}
</code></pre>
<hr />
<h4 id="post-api-diagrams-id-elements">POST /api/diagrams/:id/elements</h4>
<div class="endpoint-action">Create a node element (class, actor, state, etc.) on a diagram.</div>
<p>Create a node element (class, actor, state, etc.) on a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Element type (see allowed types below)</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Element name</td></tr>
<tr><td>x1</td><td>number</td><td>No</td><td>Left coordinate (default: 100)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Top coordinate (default: 100)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>Right coordinate (default: 200)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>Bottom coordinate (default: 180)</td></tr>
<tr><td>pseudostateKind</td><td>string</td><td>No</td><td>Kind for UMLPseudostate (see below)</td></tr>
<tr><td>attachToViewId</td><td>string</td><td>No</td><td>View ID to attach to (required for UMLTimeTick, UMLTimeConstraint)</td></tr>
</tbody>
</table>
<p><strong>Allowed element types (~170)</strong>:</p>
<ul>
<li><strong>Class diagram</strong>: <code>UMLClass</code>, <code>UMLInterface</code>, <code>UMLSignal</code>, <code>UMLDataType</code>, <code>UMLPrimitiveType</code>, <code>UMLEnumeration</code>, <code>UMLPackage</code>, <code>UMLModel</code>, <code>UMLSubsystem</code>, <code>UMLNaryAssociationNode</code></li>
<li><strong>Use case diagram</strong>: <code>UMLActor</code>, <code>UMLUseCase</code>, <code>UMLUseCaseSubject</code></li>
<li><strong>Activity diagram</strong>: <code>UMLAction</code>, <code>UMLObjectNode</code>, <code>UMLCentralBufferNode</code>, <code>UMLDataStoreNode</code>, <code>UMLInitialNode</code>, <code>UMLActivityFinalNode</code>, <code>UMLFlowFinalNode</code>, <code>UMLForkNode</code>, <code>UMLJoinNode</code>, <code>UMLMergeNode</code>, <code>UMLDecisionNode</code>, <code>UMLActivityPartition</code>, <code>UMLExpansionRegion</code>, <code>UMLActivityParameterNode</code>, <code>UMLInputPin</code>, <code>UMLOutputPin</code>, <code>UMLInputExpansionNode</code>, <code>UMLOutputExpansionNode</code>, <code>UMLInterruptibleActivityRegion</code>, <code>UMLStructuredActivityNode</code>, <code>UMLActivityEdgeConnector</code></li>
<li><strong>State machine diagram</strong>: <code>UMLState</code>, <code>UMLSubmachineState</code>, <code>UMLPseudostate</code>, <code>UMLFinalState</code>, <code>UMLConnectionPointReference</code></li>
<li><strong>Composite structure diagram</strong>: <code>UMLPort</code>, <code>UMLPart</code>, <code>UMLCollaboration</code>, <code>UMLCollaborationUse</code>, <code>UMLAssociationClass</code></li>
<li><strong>Information flow diagram</strong>: <code>UMLInformationItem</code></li>
<li><strong>Profile diagram</strong>: <code>UMLProfile</code>, <code>UMLStereotype</code>, <code>UMLMetaClass</code></li>
<li><strong>Timing diagram</strong>: <code>UMLTimingState</code>, <code>UMLDurationConstraint</code>, <code>UMLTimeTick</code>, <code>UMLTimeConstraint</code></li>
<li><strong>Interaction overview diagram</strong>: <code>UMLInteractionUseInOverview</code>, <code>UMLInteractionInOverview</code></li>
<li><strong>Sequence diagram additional</strong>: <code>UMLEndpoint</code>, <code>UMLGate</code>, <code>UMLContinuation</code></li>
<li><strong>Component diagram</strong>: <code>UMLComponent</code>, <code>UMLArtifact</code></li>
<li><strong>Deployment diagram</strong>: <code>UMLNode</code>, <code>UMLArtifactInstance</code>, <code>UMLComponentInstance</code>, <code>UMLNodeInstance</code></li>
<li><strong>Object diagram</strong>: <code>UMLObject</code></li>
<li><strong>Communication diagram</strong>: <code>UMLLifeline</code></li>
<li><strong>Flowchart</strong>: <code>FCProcess</code>, <code>FCTerminator</code>, <code>FCDecision</code>, <code>FCDelay</code>, <code>FCPredefinedProcess</code>, <code>FCAlternateProcess</code>, <code>FCData</code>, <code>FCDocument</code>, <code>FCMultiDocument</code>, <code>FCPreparation</code>, <code>FCDisplay</code>, <code>FCManualInput</code>, <code>FCManualOperation</code>, <code>FCCard</code>, <code>FCPunchedTape</code>, <code>FCConnector</code>, <code>FCOffPageConnector</code>, <code>FCOr</code>, <code>FCSummingJunction</code>, <code>FCCollate</code>, <code>FCSort</code>, <code>FCMerge</code>, <code>FCExtract</code>, <code>FCStoredData</code>, <code>FCDatabase</code>, <code>FCDirectAccessStorage</code>, <code>FCInternalStorage</code></li>
<li><strong>DFD</strong>: <code>DFDExternalEntity</code>, <code>DFDProcess</code>, <code>DFDDataStore</code></li>
<li><strong>BPMN</strong>: <code>BPMNParticipant</code>, <code>BPMNLane</code>, <code>BPMNCallActivity</code>, <code>BPMNTask</code>, <code>BPMNSendTask</code>, <code>BPMNReceiveTask</code>, <code>BPMNServiceTask</code>, <code>BPMNUserTask</code>, <code>BPMNManualTask</code>, <code>BPMNBusinessRuleTask</code>, <code>BPMNScriptTask</code>, <code>BPMNSubProcess</code>, <code>BPMNAdHocSubProcess</code>, <code>BPMNTransaction</code>, <code>BPMNChoreographyTask</code>, <code>BPMNSubChoreography</code>, <code>BPMNStartEvent</code>, <code>BPMNIntermediateThrowEvent</code>, <code>BPMNIntermediateCatchEvent</code>, <code>BPMNBoundaryEvent</code>, <code>BPMNEndEvent</code>, <code>BPMNExclusiveGateway</code>, <code>BPMNInclusiveGateway</code>, <code>BPMNComplexGateway</code>, <code>BPMNParallelGateway</code>, <code>BPMNEventBasedGateway</code>, <code>BPMNDataObject</code>, <code>BPMNDataStore</code>, <code>BPMNDataInput</code>, <code>BPMNDataOutput</code>, <code>BPMNMessage</code>, <code>BPMNConversation</code>, <code>BPMNSubConversation</code>, <code>BPMNCallConversation</code>, <code>BPMNTextAnnotation</code>, <code>BPMNGroup</code></li>
<li><strong>C4</strong>: <code>C4Person</code>, <code>C4SoftwareSystem</code>, <code>C4Container</code>, <code>C4ContainerDatabase</code>, <code>C4ContainerWebApp</code>, <code>C4ContainerDesktopApp</code>, <code>C4ContainerMobileApp</code>, <code>C4Component</code>, <code>C4Element</code></li>
<li><strong>SysML</strong>: <code>SysMLStakeholder</code>, <code>SysMLView</code>, <code>SysMLViewpoint</code>, <code>SysMLRequirement</code>, <code>SysMLBlock</code>, <code>SysMLValueType</code>, <code>SysMLInterfaceBlock</code>, <code>SysMLConstraintBlock</code>, <code>SysMLPart</code>, <code>SysMLReference</code>, <code>SysMLValue</code>, <code>SysMLPort</code>, <code>SysMLConstraintProperty</code>, <code>SysMLConstraintParameter</code></li>
<li><strong>Wireframe</strong>: <code>WFFrame</code>, <code>WFMobileFrame</code>, <code>WFWebFrame</code>, <code>WFDesktopFrame</code>, <code>WFButton</code>, <code>WFText</code>, <code>WFRadio</code>, <code>WFCheckbox</code>, <code>WFSwitch</code>, <code>WFLink</code>, <code>WFTabList</code>, <code>WFTab</code>, <code>WFInput</code>, <code>WFDropdown</code>, <code>WFPanel</code>, <code>WFImage</code>, <code>WFSeparator</code>, <code>WFAvatar</code>, <code>WFSlider</code></li>
<li><strong>MindMap</strong>: <code>MMNode</code></li>
<li><strong>AWS</strong>: <code>AWSElement</code>, <code>AWSGroup</code>, <code>AWSGenericGroup</code>, <code>AWSAvailabilityZone</code>, <code>AWSSecurityGroup</code>, <code>AWSService</code>, <code>AWSResource</code>, <code>AWSGeneralResource</code>, <code>AWSCallout</code></li>
<li><strong>Azure</strong>: <code>AzureElement</code>, <code>AzureGroup</code>, <code>AzureService</code>, <code>AzureCallout</code></li>
<li><strong>GCP</strong>: <code>GCPElement</code>, <code>GCPUser</code>, <code>GCPZone</code>, <code>GCPProduct</code>, <code>GCPService</code></li>
</ul>
<blockquote><p><strong>Note</strong>: <code>UMLInputPin</code>/<code>UMLOutputPin</code> require an <code>UMLAction</code> as parent. Use <code>POST /api/elements/:id/children</code> with the Action&#x27;s ID instead of the generic diagram element creation endpoint.</p></blockquote>
<blockquote><p><strong>Note</strong>: To create send signal / accept event actions, use <code>UMLAction</code> with <code>kind</code> property set to <code>sendSignal</code>, <code>acceptSignal</code>, or <code>acceptTimeEvent</code> via <code>PUT /api/elements/:id</code>.</p></blockquote>
<blockquote><p><strong>Note</strong>: <code>UMLTimeTick</code> and <code>UMLTimeConstraint</code> require <code>attachToViewId</code> pointing to a view on the timing diagram (e.g., a <code>UMLTimingFrameView</code> for UMLTimeTick, or a message/time segment view for UMLTimeConstraint).</p></blockquote>
<p><strong>Pseudostate kinds</strong> (for <code>UMLPseudostate</code> only):</p>
<p><code>initial</code>, <code>deepHistory</code>, <code>shallowHistory</code>, <code>join</code>, <code>fork</code>, <code>junction</code>, <code>choice</code>, <code>entryPoint</code>, <code>exitPoint</code></p>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;UMLClass&quot;,
  &quot;name&quot;: &quot;User&quot;,
  &quot;x1&quot;: 100,
  &quot;y1&quot;: 100,
  &quot;x2&quot;: 250,
  &quot;y2&quot;: 200
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created element \&quot;User\&quot; on diagram \&quot;Domain Model\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVxxxx/elements&quot;, &quot;body&quot;: { &quot;type&quot;: &quot;UMLClass&quot;, &quot;name&quot;: &quot;User&quot;, &quot;x1&quot;: 100, &quot;y1&quot;: 100, &quot;x2&quot;: 250, &quot;y2&quot;: 200 } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVview1&quot;,
    &quot;_type&quot;: &quot;UMLClassView&quot;,
    &quot;modelId&quot;: &quot;AAAAAAGVmodel1&quot;,
    &quot;modelType&quot;: &quot;UMLClass&quot;,
    &quot;name&quot;: &quot;User&quot;,
    &quot;left&quot;: 100,
    &quot;top&quot;: 100,
    &quot;width&quot;: 150,
    &quot;height&quot;: 100
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>type</code> is missing or not in the allowed list</li>
<li>400: Invalid <code>pseudostateKind</code></li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-relations">POST /api/diagrams/:id/relations</h4>
<div class="endpoint-action">Create a relation (association, dependency, flow, etc.) between two elements on a diagram.</div>
<p>Create a relation (association, dependency, flow, etc.) between two elements on a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Relation type (see allowed types below)</td></tr>
<tr><td>sourceId</td><td>string</td><td>Yes</td><td>Source element ID (model ID or view ID)</td></tr>
<tr><td>targetId</td><td>string</td><td>Yes</td><td>Target element ID (model ID or view ID)</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Relation name</td></tr>
</tbody>
</table>
<p><strong>Allowed relation types (~45)</strong>:</p>
<ul>
<li><strong>Class diagram</strong>: <code>UMLAssociation</code>, <code>UMLDependency</code>, <code>UMLGeneralization</code>, <code>UMLInterfaceRealization</code>, <code>UMLTemplateBinding</code>, <code>UMLContainment</code>, <code>UMLRealization</code></li>
<li><strong>Use case diagram</strong>: <code>UMLInclude</code>, <code>UMLExtend</code></li>
<li><strong>Activity diagram</strong>: <code>UMLControlFlow</code>, <code>UMLObjectFlow</code>, <code>UMLExceptionHandler</code>, <code>UMLActivityInterrupt</code></li>
<li><strong>State machine diagram</strong>: <code>UMLTransition</code></li>
<li><strong>Composite structure / Information flow</strong>: <code>UMLRoleBinding</code>, <code>UMLInformationFlow</code></li>
<li><strong>Profile</strong>: <code>UMLExtension</code></li>
<li><strong>Timing</strong>: <code>UMLTimeSegment</code></li>
<li><strong>Component diagram</strong>: <code>UMLComponentRealization</code></li>
<li><strong>Deployment diagram</strong>: <code>UMLDeployment</code>, <code>UMLCommunicationPath</code></li>
<li><strong>Object diagram</strong>: <code>UMLLink</code></li>
<li><strong>Communication diagram</strong>: <code>UMLConnector</code></li>
<li><strong>Flowchart</strong>: <code>FCFlow</code></li>
<li><strong>DFD</strong>: <code>DFDDataFlow</code></li>
<li><strong>BPMN</strong>: <code>BPMNSequenceFlow</code>, <code>BPMNMessageFlow</code>, <code>BPMNAssociation</code>, <code>BPMNDataAssociation</code>, <code>BPMNMessageLink</code>, <code>BPMNConversationLink</code></li>
<li><strong>C4</strong>: <code>C4Relationship</code></li>
<li><strong>SysML</strong>: <code>SysMLConform</code>, <code>SysMLExpose</code>, <code>SysMLCopy</code>, <code>SysMLDeriveReqt</code>, <code>SysMLVerify</code>, <code>SysMLSatisfy</code>, <code>SysMLRefine</code>, <code>SysMLConnector</code></li>
<li><strong>MindMap</strong>: <code>MMEdge</code></li>
<li><strong>AWS</strong>: <code>AWSArrow</code></li>
<li><strong>Azure</strong>: <code>AzureConnector</code></li>
<li><strong>GCP</strong>: <code>GCPPath</code></li>
</ul>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;UMLAssociation&quot;,
  &quot;sourceId&quot;: &quot;AAAAAAGVmodel1&quot;,
  &quot;targetId&quot;: &quot;AAAAAAGVmodel2&quot;,
  &quot;name&quot;: &quot;manages&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created relation \&quot;manages\&quot; on diagram \&quot;Domain Model\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVxxxx/relations&quot;, &quot;body&quot;: { &quot;type&quot;: &quot;UMLAssociation&quot;, &quot;sourceId&quot;: &quot;AAAAAAGVmodel1&quot;, &quot;targetId&quot;: &quot;AAAAAAGVmodel2&quot;, &quot;name&quot;: &quot;manages&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVview3&quot;,
    &quot;_type&quot;: &quot;UMLAssociationView&quot;,
    &quot;modelId&quot;: &quot;AAAAAAGVrel1&quot;,
    &quot;modelType&quot;: &quot;UMLAssociation&quot;,
    &quot;name&quot;: &quot;manages&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>type</code>, <code>sourceId</code>, or <code>targetId</code> is missing</li>
<li>400: <code>type</code> is not in the allowed list</li>
<li>400: Source or target element not found on diagram</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h3 id="child-elements">Child Elements</h3>
<h4 id="post-api-elements-id-children">POST /api/elements/:id/children</h4>
<div class="endpoint-action">Create a child element (attribute, operation, enumeration literal, etc.) under a model element.</div>
<p>Create a child element (attribute, operation, enumeration literal, etc.) under a model element.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Parent element ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Child element type (see allowed types below)</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Element name</td></tr>
<tr><td>field</td><td>string</td><td>No</td><td>Target field name (default: auto-determined by type)</td></tr>
</tbody>
</table>
<p><strong>Allowed child types and default fields</strong>:</p>
<table>
<thead>
<tr><th>Type</th><th>Default field</th></tr>
</thead>
<tbody>
<tr><td>UMLAttribute</td><td>attributes</td></tr>
<tr><td>UMLOperation</td><td>operations</td></tr>
<tr><td>UMLParameter</td><td>parameters</td></tr>
<tr><td>UMLEnumerationLiteral</td><td>literals</td></tr>
<tr><td>UMLPort</td><td>ports</td></tr>
<tr><td>UMLReception</td><td>receptions</td></tr>
<tr><td>UMLExtensionPoint</td><td>extensionPoints</td></tr>
<tr><td>UMLSlot</td><td>slots</td></tr>
<tr><td>UMLTemplateParameter</td><td>templateParameters</td></tr>
<tr><td>UMLRegion</td><td>regions</td></tr>
<tr><td>UMLConstraint</td><td>constraints</td></tr>
<tr><td>UMLInteractionOperand</td><td>operands</td></tr>
<tr><td>SysMLProperty</td><td>ownedElements</td></tr>
<tr><td>SysMLOperation</td><td>operations</td></tr>
<tr><td>SysMLFlowProperty</td><td>ownedElements</td></tr>
<tr><td>UMLInputPin</td><td>inputs</td></tr>
<tr><td>UMLOutputPin</td><td>outputs</td></tr>
<tr><td>BPMNCompensateEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNCancelEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNErrorEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNLinkEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNSignalEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNTimerEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNEscalationEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNMessageEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNTerminateEventDefinition</td><td>eventDefinitions</td></tr>
<tr><td>BPMNConditionalEventDefinition</td><td>eventDefinitions</td></tr>
</tbody>
</table>
<blockquote><p><strong>Note</strong>: <code>UMLInputPin</code>/<code>UMLOutputPin</code> require a <code>UMLAction</code> as the parent element. Pass the Action&#x27;s ID as the <code>:id</code> path parameter.</p></blockquote>
<blockquote><p><strong>Note</strong>: BPMN Event Definition types are model-only children of BPMN event elements (<code>BPMNStartEvent</code>, <code>BPMNEndEvent</code>, etc.).</p></blockquote>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;UMLAttribute&quot;,
  &quot;name&quot;: &quot;email&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created child \&quot;email\&quot; under \&quot;User\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/elements/AAAAAAGVmodel1/children&quot;, &quot;body&quot;: { &quot;type&quot;: &quot;UMLAttribute&quot;, &quot;name&quot;: &quot;email&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVattr1&quot;,
    &quot;_type&quot;: &quot;UMLAttribute&quot;,
    &quot;name&quot;: &quot;email&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Parent element not found</li>
<li>400: <code>type</code> is missing or not in the allowed list</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h3 id="view-styling">View Styling</h3>
<h4 id="put-api-views-id-style">PUT /api/views/:id/style</h4>
<div class="endpoint-action">Update the visual style of a view element (colors, font, shadow, line style).</div>
<p>Update the visual style of a view element (colors, font, shadow, line style).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>View ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong> (all fields optional):</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>fillColor</td><td>string</td><td>Fill color (CSS color string, e.g., <code>&quot;#CCE5FF&quot;</code>)</td></tr>
<tr><td>lineColor</td><td>string</td><td>Line color</td></tr>
<tr><td>fontColor</td><td>string</td><td>Font color</td></tr>
<tr><td>fontFace</td><td>string</td><td>Font family name (e.g., <code>&quot;Arial&quot;</code>)</td></tr>
<tr><td>fontSize</td><td>number</td><td>Font size in pixels</td></tr>
<tr><td>fontStyle</td><td>number</td><td>0=normal, 1=bold, 2=italic, 3=bold+italic</td></tr>
<tr><td>lineStyle</td><td>number</td><td>0=rectilinear, 1=oblique, 2=roundrect, 3=curve, 4=direct (EdgeView only)</td></tr>
<tr><td>showShadow</td><td>boolean</td><td>Show drop shadow</td></tr>
<tr><td>autoResize</td><td>boolean</td><td>Auto-resize to fit content</td></tr>
<tr><td>stereotypeDisplay</td><td>string</td><td>Stereotype display mode: <code>&quot;none&quot;</code>, <code>&quot;label&quot;</code>, <code>&quot;decoration&quot;</code>, <code>&quot;decoration-label&quot;</code>, <code>&quot;icon&quot;</code>, <code>&quot;icon-label&quot;</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;fillColor&quot;: &quot;#CCE5FF&quot;,
  &quot;lineColor&quot;: &quot;#0066CC&quot;,
  &quot;fontSize&quot;: 14,
  &quot;fontStyle&quot;: 1,
  &quot;showShadow&quot;: true
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Updated style (fields: fillColor, lineColor, fontSize, fontStyle, showShadow)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;PUT&quot;, &quot;path&quot;: &quot;/api/views/AAAAAAGVview1/style&quot;, &quot;body&quot;: { &quot;fillColor&quot;: &quot;#CCE5FF&quot;, &quot;lineColor&quot;: &quot;#0066CC&quot;, &quot;fontSize&quot;: 14, &quot;fontStyle&quot;: 1, &quot;showShadow&quot;: true } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVview1&quot;,
    &quot;_type&quot;: &quot;UMLClassView&quot;,
    &quot;modelId&quot;: &quot;AAAAAAGVmodel1&quot;,
    &quot;left&quot;: 100,
    &quot;top&quot;: 100,
    &quot;width&quot;: 150,
    &quot;height&quot;: 80
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: View not found</li>
<li>400: Empty body or unknown fields</li>
<li>400: Invalid field types</li>
</ul>
<hr />
<h3 id="undo-redo">Undo / Redo</h3>
<h4 id="post-api-undo">POST /api/undo</h4>
<div class="endpoint-action">Undo the last operation.</div>
<p>Undo the last operation.</p>
<p><strong>Request body</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Undo executed&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/undo&quot; }
}
</code></pre>
<hr />
<h4 id="post-api-redo">POST /api/redo</h4>
<div class="endpoint-action">Redo the last undone operation.</div>
<p>Redo the last undone operation.</p>
<p><strong>Request body</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Redo executed&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/redo&quot; }
}
</code></pre>
<hr />
<h3 id="search">Search</h3>
<h4 id="get-api-search">GET /api/search</h4>
<div class="endpoint-action">Search for elements by keyword, optionally filtered by type.</div>
<p>Search for elements by keyword, optionally filtered by type.</p>
<p><strong>Query parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>keyword</td><td>string</td><td>Yes</td><td>Search keyword</td></tr>
<tr><td>type</td><td>string</td><td>No</td><td>Filter by element type (e.g., <code>UMLClass</code>, <code>UMLActor</code>)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code>GET /api/search?keyword=User&amp;type=UMLClass
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Found 2 element(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/search&quot;, &quot;query&quot;: { &quot;keyword&quot;: &quot;User&quot;, &quot;type&quot;: &quot;UMLClass&quot; } },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVmodel1&quot;,
      &quot;_type&quot;: &quot;UMLClass&quot;,
      &quot;name&quot;: &quot;User&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVparent1&quot;
    },
    {
      &quot;_id&quot;: &quot;AAAAAAGVmodel2&quot;,
      &quot;_type&quot;: &quot;UMLClass&quot;,
      &quot;name&quot;: &quot;UserProfile&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVparent1&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>keyword</code> query parameter is missing</li>
<li>400: Unknown query parameters</li>
</ul>
<hr />
<h3 id="auto-layout">Auto Layout</h3>
<h4 id="post-api-diagrams-id-layout">POST /api/diagrams/:id/layout</h4>
<div class="endpoint-action">Apply automatic layout to a diagram.</div>
<p>Apply automatic layout to a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong> (all fields optional):</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Default</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>direction</td><td>string</td><td>&quot;TB&quot;</td><td>Layout direction: &quot;TB&quot; (top-bottom), &quot;BT&quot;, &quot;LR&quot;, &quot;RL&quot;</td></tr>
<tr><td>separations</td><td>object</td><td><code>{&quot;node&quot;:20,&quot;edge&quot;:10,&quot;rank&quot;:50}</code></td><td>Spacing between nodes/edges/ranks</td></tr>
<tr><td>edgeLineStyle</td><td>number</td><td>1</td><td>Edge line style (0=rectilinear, 1=oblique)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;direction&quot;: &quot;LR&quot;,
  &quot;separations&quot;: { &quot;node&quot;: 30, &quot;edge&quot;: 15, &quot;rank&quot;: 60 }
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Layout applied to diagram \&quot;Domain Model\&quot; (direction: LR)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/diagrams/AAAAAAGVxxxx/layout&quot;, &quot;body&quot;: { &quot;direction&quot;: &quot;LR&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Domain Model&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
    &quot;ownedViewsCount&quot;: 5
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: Invalid direction</li>
<li>400: Unknown fields present</li>
<li>500: Layout operation failed</li>
</ul>
<hr />
<h3 id="import">Import</h3>
<h4 id="post-api-project-import">POST /api/project/import</h4>
<div class="endpoint-action">Import a model fragment from a <code>.mfj</code> file.</div>
<p>Import a model fragment from a <code>.mfj</code> file.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path to the <code>.mfj</code> file</td></tr>
<tr><td>parentId</td><td>string</td><td>No</td><td>Parent element ID (default: project root)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/Users/xxx/fragment.mfj&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Imported from \&quot;/Users/xxx/fragment.mfj\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/project/import&quot;, &quot;body&quot;: { &quot;path&quot;: &quot;/Users/xxx/fragment.mfj&quot; } },
  &quot;data&quot;: { &quot;path&quot;: &quot;/Users/xxx/fragment.mfj&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing or empty</li>
<li>400: <code>parentId</code> not found</li>
<li>400: Import operation failed</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h2 id="er-diagram-2">ER Diagram</h2>
<h3 id="diagrams">Diagrams</h3>
<h4 id="get-api-erd-diagrams">GET /api/erd/diagrams</h4>
<div class="endpoint-action">List all ERD diagrams in the project.</div>
<p>List all ERD diagrams in the project.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 diagram(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/diagrams&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
      &quot;_type&quot;: &quot;ERDDiagram&quot;,
      &quot;name&quot;: &quot;ERDDiagram1&quot;,
      &quot;entityIds&quot;: [&quot;AAAAAAGVyyyy&quot;, &quot;AAAAAAGVzzzz&quot;],
      &quot;_parentId&quot;: &quot;AAAAAAGVwwww&quot;
    }
  ]
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the diagram</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;ERDDiagram&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Diagram name</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>entityIds</td><td>string[]</td><td>IDs of entities displayed on this diagram</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent element (typically ERDDataModel) ID</td></tr>
</tbody>
</table>
<hr />
<h4 id="post-api-erd-diagrams">POST /api/erd/diagrams</h4>
<div class="endpoint-action">Create a new ERD diagram.</div>
<p>Create a new ERD diagram.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>parentId</td><td>string</td><td>Yes</td><td>Parent element (ERDDataModel) ID</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Diagram name (default: <code>&quot;ERDDiagram1&quot;</code>)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;parentId&quot;: &quot;AAAAAAGVwwww&quot;,
  &quot;name&quot;: &quot;Main ER Diagram&quot;
}
</code></pre>
<p><strong>Response</strong>: The created diagram object (same format as GET /api/erd/diagrams data array element). <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>parentId</code> is missing or the corresponding ERDDataModel not found</li>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
<li>400: <code>name</code> is empty</li>
</ul>
<hr />
<h4 id="get-api-erd-diagrams-id">GET /api/erd/diagrams/:id</h4>
<div class="endpoint-action">Get the details of the specified diagram.</div>
<p>Get the details of the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Diagram object (same format as GET /api/erd/diagrams data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDDiagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-diagrams-id">PUT /api/erd/diagrams/:id</h4>
<div class="endpoint-action">Update the specified diagram. Only the specified fields are updated.</div>
<p>Update the specified diagram. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Diagram name</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Main ER Diagram&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated diagram object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: ERDDiagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-diagrams-id">DELETE /api/erd/diagrams/:id</h4>
<div class="endpoint-action">Delete the specified diagram.</div>
<p>Delete the specified diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted diagram \&quot;ERDDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/diagrams/AAAAAAGVxxxx&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVxxxx&quot;, &quot;name&quot;: &quot;ERDDiagram1&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDDiagram with the specified ID not found</li>
</ul>
<hr />
<h3 id="data-models">Data Models</h3>
<h4 id="get-api-erd-data-models">GET /api/erd/data-models</h4>
<div class="endpoint-action">List all ERD data models in the project. A data model serves as the parent container for entities and diagrams.</div>
<p>List all ERD data models in the project. A data model serves as the parent container for entities and diagrams.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 data model(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/data-models&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVwwww&quot;,
      &quot;_type&quot;: &quot;ERDDataModel&quot;,
      &quot;name&quot;: &quot;Data Model1&quot;
    }
  ]
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the data model</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;ERDDataModel&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Data model name</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
</tbody>
</table>
<hr />
<h4 id="post-api-erd-data-models">POST /api/erd/data-models</h4>
<div class="endpoint-action">Create a new ERD data model. It is created directly under the project root.</div>
<p>Create a new ERD data model. It is created directly under the project root.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Data model name (default: <code>&quot;ERDDataModel1&quot;</code>)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;MyDatabase&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created data model \&quot;MyDatabase\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/erd/data-models&quot;, &quot;body&quot;: { &quot;name&quot;: &quot;MyDatabase&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVwwww&quot;,
    &quot;_type&quot;: &quot;ERDDataModel&quot;,
    &quot;name&quot;: &quot;MyDatabase&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
<li>400: <code>name</code> is empty</li>
<li>400: No project is open</li>
</ul>
<hr />
<h4 id="get-api-erd-data-models-id">GET /api/erd/data-models/:id</h4>
<div class="endpoint-action">Get the details of the specified data model.</div>
<p>Get the details of the specified data model.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Data model ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Data model object (same format as GET /api/erd/data-models data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDDataModel with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-data-models-id">PUT /api/erd/data-models/:id</h4>
<div class="endpoint-action">Update the specified data model (rename). Only the specified fields are updated.</div>
<p>Update the specified data model (rename). Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Data model ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Data model name</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;MyDatabase_v2&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated data model object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: ERDDataModel with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-data-models-id">DELETE /api/erd/data-models/:id</h4>
<div class="endpoint-action">Delete the specified data model. Deletion is blocked if it contains entities, relationships, or diagrams.</div>
<p>Delete the specified data model. Deletion is blocked if it contains entities, relationships, or diagrams.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Data model ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted data model \&quot;MyDatabase\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/data-models/AAAAAAGVwwww&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVwwww&quot;, &quot;name&quot;: &quot;MyDatabase&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Contains entities, relationships, or diagrams (error message includes counts)</li>
<li>404: ERDDataModel with the specified ID not found</li>
</ul>
<hr />
<h3 id="entities">Entities</h3>
<h4 id="get-api-erd-entities">GET /api/erd/entities</h4>
<div class="endpoint-action">List entities (tables). Supports filtering via query parameters.</div>
<p>List entities (tables). Supports filtering via query parameters.</p>
<p><strong>Query parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>dataModelId</td><td>string</td><td>No</td><td>Return only entities under the specified data model</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>Return only entities displayed on the specified diagram</td></tr>
</tbody>
</table>
<p><strong>Note</strong>: The entity&#x27;s <code>tags</code> array excludes tags managed as sequences (<code>sequence#</code> prefix) and indexes (<code>index#</code> prefix). Use the dedicated endpoints (<code>/api/erd/entities/:id/sequences</code>, <code>/api/erd/entities/:id/indexes</code>) to retrieve these.</p>
<p><strong>Request example</strong>: <code>GET /api/erd/entities?dataModelId=AAAAAAGVwwww</code></p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 entity(ies)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/entities&quot;, &quot;query&quot;: { &quot;dataModelId&quot;: &quot;AAAAAAGVwwww&quot; } },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVyyyy&quot;,
      &quot;_type&quot;: &quot;ERDEntity&quot;,
      &quot;name&quot;: &quot;users&quot;,
      &quot;columns&quot;: [
        {
          &quot;_id&quot;: &quot;AAAAAAGVaaaa&quot;,
          &quot;_type&quot;: &quot;ERDColumn&quot;,
          &quot;name&quot;: &quot;id&quot;,
          &quot;type&quot;: &quot;INTEGER&quot;,
          &quot;length&quot;: &quot;&quot;,
          &quot;primaryKey&quot;: true,
          &quot;foreignKey&quot;: false,
          &quot;nullable&quot;: false,
          &quot;unique&quot;: false,
          &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
          &quot;tags&quot;: []
        }
      ],
      &quot;tags&quot;: [],
      &quot;_parentId&quot;: &quot;AAAAAAGVwwww&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown query parameters present</li>
<li>404: ERDDataModel with the specified <code>dataModelId</code> not found</li>
<li>404: ERDDiagram with the specified <code>diagramId</code> not found</li>
</ul>
<hr />
<h4 id="post-api-erd-entities">POST /api/erd/entities</h4>
<div class="endpoint-action">Create a new entity (table).</div>
<p>Create a new entity (table).</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>parentId</td><td>string</td><td>Yes</td><td>Parent element (ERDDataModel) ID</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Entity name (default: <code>&quot;NewEntity&quot;</code>)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>If specified, a view (visual representation) is also created on the diagram</td></tr>
<tr><td>x1</td><td>number</td><td>No</td><td>Top-left X coordinate of the view (default: 100)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Top-left Y coordinate of the view (default: 100)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>Bottom-right X coordinate of the view (default: 300)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>Bottom-right Y coordinate of the view (default: 200)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;parentId&quot;: &quot;AAAAAAGVwwww&quot;,
  &quot;name&quot;: &quot;orders&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVxxxx&quot;
}
</code></pre>
<p><strong>Response</strong>: The created entity object (same format as GET /api/erd/entities/:id). <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>parentId</code> is missing or the corresponding ERDDataModel not found</li>
<li>400: ERDDiagram with the specified <code>diagramId</code> not found</li>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
</ul>
<hr />
<h4 id="get-api-erd-entities-id">GET /api/erd/entities/:id</h4>
<div class="endpoint-action">Get the details of the specified entity. Includes columns and tags.</div>
<p>Get the details of the specified entity. Includes columns and tags.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Entity object (same format as GET /api/erd/entities data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-entities-id">PUT /api/erd/entities/:id</h4>
<div class="endpoint-action">Update the specified entity. Only the specified fields are updated.</div>
<p>Update the specified entity. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Entity name</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;customers&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated entity object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-entities-id">DELETE /api/erd/entities/:id</h4>
<div class="endpoint-action">Delete the specified entity. All child columns and tags are also deleted.</div>
<p>Delete the specified entity. All child columns and tags are also deleted.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted entity \&quot;users\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/entities/AAAAAAGVyyyy&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVyyyy&quot;, &quot;name&quot;: &quot;users&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Columns in other entities reference this entity&#x27;s columns via referenceTo (message includes referencing details)</li>
<li>400: Relationships reference this entity via end1/end2 (message includes referencing details)</li>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h3 id="columns">Columns</h3>
<h4 id="get-api-erd-entities-id-columns">GET /api/erd/entities/:id/columns</h4>
<div class="endpoint-action">List all columns of the specified entity.</div>
<p>List all columns of the specified entity.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 column(s) from entity \&quot;users\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/entities/AAAAAAGVyyyy/columns&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVaaaa&quot;,
      &quot;_type&quot;: &quot;ERDColumn&quot;,
      &quot;name&quot;: &quot;id&quot;,
      &quot;type&quot;: &quot;INTEGER&quot;,
      &quot;length&quot;: &quot;&quot;,
      &quot;primaryKey&quot;: true,
      &quot;foreignKey&quot;: false,
      &quot;nullable&quot;: false,
      &quot;unique&quot;: false,
      &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
      &quot;tags&quot;: []
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-erd-entities-id-columns">POST /api/erd/entities/:id/columns</h4>
<div class="endpoint-action">Add a new column to the specified entity.</div>
<p>Add a new column to the specified entity.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Column name (default: <code>&quot;new_column&quot;</code>)</td></tr>
<tr><td>type</td><td>string</td><td>No</td><td>Data type (e.g., <code>&quot;VARCHAR&quot;</code>, <code>&quot;INTEGER&quot;</code>, <code>&quot;BOOLEAN&quot;</code>)</td></tr>
<tr><td>length</td><td>string</td><td>No</td><td>Length/precision (e.g., <code>&quot;255&quot;</code>)</td></tr>
<tr><td>primaryKey</td><td>boolean</td><td>No</td><td>Whether this is a primary key (default: false)</td></tr>
<tr><td>foreignKey</td><td>boolean</td><td>No</td><td>Whether this is a foreign key (default: false)</td></tr>
<tr><td>nullable</td><td>boolean</td><td>No</td><td>Whether NULL is allowed (default: false)</td></tr>
<tr><td>unique</td><td>boolean</td><td>No</td><td>Whether a unique constraint applies (default: false)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>referenceToId</td><td>string</td><td>No</td><td>ID of the foreign key target column</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;email&quot;,
  &quot;type&quot;: &quot;VARCHAR&quot;,
  &quot;length&quot;: &quot;255&quot;,
  &quot;nullable&quot;: false,
  &quot;unique&quot;: true
}
</code></pre>
<p><strong>Response</strong>: The created column object. <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>type</code> is not an allowed value (error message lists allowed types)</li>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: ERDColumn with the specified <code>referenceToId</code> not found</li>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-erd-columns-id">GET /api/erd/columns/:id</h4>
<div class="endpoint-action">Get the details of the specified column.</div>
<p>Get the details of the specified column.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Column ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Column object (same format as POST /api/erd/entities/:id/columns response)</p>
<p><strong>Column object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the column</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;ERDColumn&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Column name</td></tr>
<tr><td>type</td><td>string</td><td>Data type</td></tr>
<tr><td>length</td><td>string</td><td>Length/precision</td></tr>
<tr><td>primaryKey</td><td>boolean</td><td>Primary key flag</td></tr>
<tr><td>foreignKey</td><td>boolean</td><td>Foreign key flag</td></tr>
<tr><td>nullable</td><td>boolean</td><td>Nullable flag</td></tr>
<tr><td>unique</td><td>boolean</td><td>Unique constraint flag</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>referenceTo</td><td>string</td><td>Foreign key target column ID (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent entity ID</td></tr>
<tr><td>tags</td><td>Tag[]</td><td>Tags attached to this column</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDColumn with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-columns-id">PUT /api/erd/columns/:id</h4>
<div class="endpoint-action">Update the specified column. Only the specified fields are updated.</div>
<p>Update the specified column. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Column ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Column name</td></tr>
<tr><td>type</td><td>string</td><td>No</td><td>Data type</td></tr>
<tr><td>length</td><td>string</td><td>No</td><td>Length/precision</td></tr>
<tr><td>primaryKey</td><td>boolean</td><td>No</td><td>Primary key flag</td></tr>
<tr><td>foreignKey</td><td>boolean</td><td>No</td><td>Foreign key flag</td></tr>
<tr><td>nullable</td><td>boolean</td><td>No</td><td>Nullable flag</td></tr>
<tr><td>unique</td><td>boolean</td><td>No</td><td>Unique constraint flag</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>referenceToId</td><td>string\</td><td>null</td><td>No</td><td>Foreign key target column ID (<code>null</code> to remove reference)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;BIGINT&quot;,
  &quot;nullable&quot;: true
}
</code></pre>
<p><strong>Response</strong>: The updated column object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: <code>type</code> is not an allowed value (error message lists allowed types)</li>
<li>400: <code>referenceToId</code> is the column&#x27;s own ID (self-reference)</li>
<li>400: ERDColumn with the specified <code>referenceToId</code> not found</li>
<li>404: ERDColumn with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-columns-id">DELETE /api/erd/columns/:id</h4>
<div class="endpoint-action">Delete the specified column.</div>
<p>Delete the specified column.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Column ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted column \&quot;email\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/columns/AAAAAAGVaaaa&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVaaaa&quot;, &quot;name&quot;: &quot;email&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Other columns reference this column via referenceTo (message includes referencing details)</li>
<li>404: ERDColumn with the specified ID not found</li>
</ul>
<hr />
<h3 id="sequences">Sequences</h3>
<h4 id="get-api-erd-entities-id-sequences">GET /api/erd/entities/:id/sequences</h4>
<div class="endpoint-action">List all sequences of the specified entity. Sequences are internally stored as tags, but this endpoint returns them in a sequence-specific format.</div>
<p>List all sequences of the specified entity. Sequences are internally stored as tags, but this endpoint returns them in a sequence-specific format.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 sequence(s) from entity \&quot;users\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/entities/AAAAAAGVyyyy/sequences&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVssss&quot;,
      &quot;_type&quot;: &quot;Sequence&quot;,
      &quot;name&quot;: &quot;users_id_seq&quot;,
      &quot;value&quot;: &quot;CREATE SEQUENCE users_id_seq&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;
    }
  ]
}
</code></pre>
<p><strong>Sequence object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier (internal tag ID)</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;Sequence&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Sequence name</td></tr>
<tr><td>value</td><td>string</td><td>Value in <code>CREATE SEQUENCE &lt;name&gt;</code> format</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent entity ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-erd-entities-id-sequences">POST /api/erd/entities/:id/sequences</h4>
<div class="endpoint-action">Create a new sequence on the specified entity. Internally stored as a tag (tag name: <code>sequence#&lt;name&gt;</code>, tag value: <code>CREATE SEQUENCE &lt;name&gt;</code>).</div>
<p>Create a new sequence on the specified entity. Internally stored as a tag (tag name: <code>sequence#&lt;name&gt;</code>, tag value: <code>CREATE SEQUENCE &lt;name&gt;</code>).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>Yes</td><td>Sequence name</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;users_id_seq&quot;
}
</code></pre>
<p><strong>Response</strong>: The created sequence object. <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>name</code> is missing, empty, or not a string</li>
<li>400: A sequence with the same name already exists on this entity</li>
<li>400: Unknown fields present</li>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-erd-sequences-id">GET /api/erd/sequences/:id</h4>
<div class="endpoint-action">Get the details of the specified sequence.</div>
<p>Get the details of the specified sequence.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Sequence ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Sequence object (same format as GET /api/erd/entities/:id/sequences data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Sequence (tag with <code>sequence#</code> prefix) with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-sequences-id">PUT /api/erd/sequences/:id</h4>
<div class="endpoint-action">Update the specified sequence. When the name is changed, the internal tag name (<code>sequence#&lt;name&gt;</code>) and value (<code>CREATE SEQUENCE &lt;name&gt;</code>) are updated accordingly.</div>
<p>Update the specified sequence. When the name is changed, the internal tag name (<code>sequence#&lt;name&gt;</code>) and value (<code>CREATE SEQUENCE &lt;name&gt;</code>) are updated accordingly.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Sequence ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>New sequence name</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;orders_id_seq&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated sequence object. <code>message</code> includes update details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body</li>
<li>400: <code>name</code> is empty or not a string</li>
<li>400: A sequence with the same name already exists on this entity</li>
<li>400: Unknown fields present</li>
<li>404: Sequence with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-sequences-id">DELETE /api/erd/sequences/:id</h4>
<div class="endpoint-action">Delete the specified sequence.</div>
<p>Delete the specified sequence.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Sequence ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted sequence \&quot;users_id_seq\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/sequences/AAAAAAGVssss&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVssss&quot;, &quot;name&quot;: &quot;users_id_seq&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Sequence with the specified ID not found</li>
</ul>
<hr />
<h3 id="indexes">Indexes</h3>
<h4 id="get-api-erd-entities-id-indexes">GET /api/erd/entities/:id/indexes</h4>
<div class="endpoint-action">List all indexes of the specified entity. Indexes are internally stored as tags, but this endpoint returns them in an index-specific format.</div>
<p>List all indexes of the specified entity. Indexes are internally stored as tags, but this endpoint returns them in an index-specific format.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 index(es) from entity \&quot;users\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/entities/AAAAAAGVyyyy/indexes&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGViiii&quot;,
      &quot;_type&quot;: &quot;Index&quot;,
      &quot;name&quot;: &quot;idx_email&quot;,
      &quot;definition&quot;: &quot;CREATE INDEX idx_email ON users (email)&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;
    }
  ]
}
</code></pre>
<p><strong>Index object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier (internal tag ID)</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;Index&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Index name</td></tr>
<tr><td>definition</td><td>string</td><td>Full <code>CREATE INDEX ...</code> statement</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent entity ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-erd-entities-id-indexes">POST /api/erd/entities/:id/indexes</h4>
<div class="endpoint-action">Create a new index on the specified entity. Internally stored as a tag (tag name: <code>index#&lt;name&gt;</code>, tag value: full definition).</div>
<p>Create a new index on the specified entity. Internally stored as a tag (tag name: <code>index#&lt;name&gt;</code>, tag value: full definition).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Entity ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>Yes</td><td>Index name</td></tr>
<tr><td>definition</td><td>string</td><td>Yes</td><td>Full CREATE INDEX statement (e.g., <code>&quot;CREATE INDEX idx_email ON users (email)&quot;</code>)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;idx_email&quot;,
  &quot;definition&quot;: &quot;CREATE INDEX idx_email ON users (email)&quot;
}
</code></pre>
<p><strong>Response</strong>: The created index object. <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>name</code> or <code>definition</code> is missing, empty, or not a string</li>
<li>400: An index with the same name already exists on this entity</li>
<li>400: Unknown fields present</li>
<li>404: ERDEntity with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-erd-indexes-id">GET /api/erd/indexes/:id</h4>
<div class="endpoint-action">Get the details of the specified index.</div>
<p>Get the details of the specified index.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Index ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Index object (same format as GET /api/erd/entities/:id/indexes data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Index (tag with <code>index#</code> prefix) with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-indexes-id">PUT /api/erd/indexes/:id</h4>
<div class="endpoint-action">Update the specified index. Either <code>name</code> or <code>definition</code> (or both) can be specified.</div>
<p>Update the specified index. Either <code>name</code> or <code>definition</code> (or both) can be specified.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Index ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>New index name</td></tr>
<tr><td>definition</td><td>string</td><td>No</td><td>New full CREATE INDEX statement</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;idx_users_email&quot;,
  &quot;definition&quot;: &quot;CREATE INDEX idx_users_email ON users (email)&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated index object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body</li>
<li>400: <code>name</code> or <code>definition</code> is empty or not a string</li>
<li>400: An index with the same name already exists on this entity</li>
<li>400: Unknown fields present</li>
<li>404: Index with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-indexes-id">DELETE /api/erd/indexes/:id</h4>
<div class="endpoint-action">Delete the specified index.</div>
<p>Delete the specified index.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Index ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted index \&quot;idx_email\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/indexes/AAAAAAGViiii&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGViiii&quot;, &quot;name&quot;: &quot;idx_email&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Index with the specified ID not found</li>
</ul>
<hr />
<h3 id="relationships">Relationships</h3>
<h4 id="get-api-erd-relationships">GET /api/erd/relationships</h4>
<div class="endpoint-action">List relationships (associations between tables). Supports filtering via query parameters.</div>
<p>List relationships (associations between tables). Supports filtering via query parameters.</p>
<p><strong>Query parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>dataModelId</td><td>string</td><td>No</td><td>Return only relationships under the specified data model</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 relationship(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/erd/relationships&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVrrrr&quot;,
      &quot;_type&quot;: &quot;ERDRelationship&quot;,
      &quot;name&quot;: &quot;&quot;,
      &quot;identifying&quot;: true,
      &quot;end1&quot;: {
        &quot;name&quot;: &quot;&quot;,
        &quot;cardinality&quot;: &quot;1&quot;,
        &quot;reference&quot;: &quot;AAAAAAGVyyyy&quot;
      },
      &quot;end2&quot;: {
        &quot;name&quot;: &quot;&quot;,
        &quot;cardinality&quot;: &quot;0..*&quot;,
        &quot;reference&quot;: &quot;AAAAAAGVzzzz&quot;
      },
      &quot;_parentId&quot;: &quot;AAAAAAGVwwww&quot;
    }
  ]
}
</code></pre>
<p><strong>Relationship object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the relationship</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;ERDRelationship&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Relationship name</td></tr>
<tr><td>identifying</td><td>boolean</td><td>Whether this is an identifying relationship</td></tr>
<tr><td>end1</td><td>object</td><td>Endpoint 1 of the association</td></tr>
<tr><td>end1.name</td><td>string</td><td>Endpoint name</td></tr>
<tr><td>end1.cardinality</td><td>string</td><td>Cardinality (e.g., <code>&quot;1&quot;</code>, <code>&quot;0..<em>&quot;</code>, <code>&quot;1..</em>&quot;</code>)</td></tr>
<tr><td>end1.reference</td><td>string\</td><td>null</td><td>Referenced entity ID</td></tr>
<tr><td>end2</td><td>object</td><td>Endpoint 2 of the association</td></tr>
<tr><td>end2.name</td><td>string</td><td>Endpoint name</td></tr>
<tr><td>end2.cardinality</td><td>string</td><td>Cardinality</td></tr>
<tr><td>end2.reference</td><td>string\</td><td>null</td><td>Referenced entity ID</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent element ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown query parameters present</li>
<li>404: ERDDataModel with the specified <code>dataModelId</code> not found</li>
</ul>
<hr />
<h4 id="post-api-erd-relationships">POST /api/erd/relationships</h4>
<div class="endpoint-action">Create a new relationship (association between tables).</div>
<p>Create a new relationship (association between tables).</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>parentId</td><td>string</td><td>Yes</td><td>Parent element (ERDDataModel) ID</td></tr>
<tr><td>end1</td><td>object</td><td>Yes</td><td>Endpoint 1 of the association</td></tr>
<tr><td>end1.reference</td><td>string</td><td>Yes</td><td>Entity ID for endpoint 1</td></tr>
<tr><td>end1.cardinality</td><td>string</td><td>No</td><td>Cardinality for endpoint 1 (default: <code>&quot;1&quot;</code>)</td></tr>
<tr><td>end1.name</td><td>string</td><td>No</td><td>Name for endpoint 1</td></tr>
<tr><td>end2</td><td>object</td><td>Yes</td><td>Endpoint 2 of the association</td></tr>
<tr><td>end2.reference</td><td>string</td><td>Yes</td><td>Entity ID for endpoint 2</td></tr>
<tr><td>end2.cardinality</td><td>string</td><td>No</td><td>Cardinality for endpoint 2 (default: <code>&quot;0..*&quot;</code>)</td></tr>
<tr><td>end2.name</td><td>string</td><td>No</td><td>Name for endpoint 2</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Relationship name (default: <code>&quot;&quot;</code>)</td></tr>
<tr><td>identifying</td><td>boolean</td><td>No</td><td>Identifying relationship flag</td></tr>
<tr><td>diagramId</td><td>string</td><td>Yes</td><td>Diagram ID. Must specify a diagram where the entity views are placed</td></tr>
</tbody>
</table>
<p><strong>Note</strong>: The entities specified by <code>end1.reference</code> and <code>end2.reference</code> must have views (visual representations) on the diagram specified by <code>diagramId</code>. A 400 error is returned if the views do not exist.</p>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;parentId&quot;: &quot;AAAAAAGcVcL1CP7Diws=&quot;,
  &quot;end1&quot;: { &quot;reference&quot;: &quot;AAAAAAGcVcP7jf7I68Q=&quot;, &quot;cardinality&quot;: &quot;1&quot; },
  &quot;end2&quot;: { &quot;reference&quot;: &quot;AAAAAAGcVcSvoP7yKw0=&quot;, &quot;cardinality&quot;: &quot;0..*&quot; },
  &quot;name&quot;: &quot;user_orders&quot;,
  &quot;identifying&quot;: false,
  &quot;diagramId&quot;: &quot;AAAAAAGcVcL1CP7E0iI=&quot;
}
</code></pre>
<p><strong>Response</strong>: The created relationship object (same format as GET /api/erd/relationships/:id). <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>parentId</code> or <code>diagramId</code> is missing</li>
<li>400: ERDDataModel with the specified <code>parentId</code> not found</li>
<li>400: <code>end1.reference</code> or <code>end2.reference</code> is missing</li>
<li>400: ERDEntity with the specified <code>end1.reference</code> or <code>end2.reference</code> not found</li>
<li>400: ERDDiagram with the specified <code>diagramId</code> not found</li>
<li>400: Entity view does not exist on the specified diagram</li>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
</ul>
<hr />
<h4 id="get-api-erd-relationships-id">GET /api/erd/relationships/:id</h4>
<div class="endpoint-action">Get the details of the specified relationship.</div>
<p>Get the details of the specified relationship.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Relationship ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Relationship object (same format as GET /api/erd/relationships data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDRelationship with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-erd-relationships-id">PUT /api/erd/relationships/:id</h4>
<div class="endpoint-action">Update the specified relationship. Only the specified fields are updated.</div>
<p>Update the specified relationship. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Relationship ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Relationship name</td></tr>
<tr><td>identifying</td><td>boolean</td><td>No</td><td>Identifying relationship flag</td></tr>
<tr><td>end1</td><td>object</td><td>No</td><td>Endpoint 1 update</td></tr>
<tr><td>end1.name</td><td>string</td><td>No</td><td>Endpoint name</td></tr>
<tr><td>end1.cardinality</td><td>string</td><td>No</td><td>Cardinality</td></tr>
<tr><td>end1.reference</td><td>string</td><td>No</td><td>Referenced entity ID</td></tr>
<tr><td>end2</td><td>object</td><td>No</td><td>Endpoint 2 update</td></tr>
<tr><td>end2.name</td><td>string</td><td>No</td><td>Endpoint name</td></tr>
<tr><td>end2.cardinality</td><td>string</td><td>No</td><td>Cardinality</td></tr>
<tr><td>end2.reference</td><td>string</td><td>No</td><td>Referenced entity ID</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;end2&quot;: {
    &quot;cardinality&quot;: &quot;1..*&quot;
  }
}
</code></pre>
<p><strong>Reference change example</strong>:</p>
<pre><code class="language-json">{
  &quot;end1&quot;: {
    &quot;reference&quot;: &quot;AAAAAAGVneww&quot;
  }
}
</code></pre>
<p><strong>Response</strong>: The updated relationship object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, or type mismatch</li>
<li>400: <code>end1</code> or <code>end2</code> is an empty object (<code>{}</code>)</li>
<li>400: Unknown sub-fields or type mismatch within <code>end1</code> or <code>end2</code></li>
<li>400: ERDEntity with the specified <code>end1.reference</code> or <code>end2.reference</code> not found</li>
<li>404: ERDRelationship with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-erd-relationships-id">DELETE /api/erd/relationships/:id</h4>
<div class="endpoint-action">Delete the specified relationship.</div>
<p>Delete the specified relationship.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Relationship ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted relationship \&quot;user_orders\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/erd/relationships/AAAAAAGVrrrr&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVrrrr&quot;, &quot;name&quot;: &quot;user_orders&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: ERDRelationship with the specified ID not found</li>
</ul>
<hr />
<h3 id="postgresql-ddl">PostgreSQL DDL</h3>
<h4 id="post-api-erd-postgresql-ddl">POST /api/erd/postgresql/ddl</h4>
<div class="endpoint-action">Generate PostgreSQL DDL (Data Definition Language) from the ER diagram and write it to the specified absolute path. Ported from the staruml-postgresql extension&#x27;s Generate DDL feature.</div>
<p>Generate PostgreSQL DDL (Data Definition Language) from the ER diagram and write it to the specified absolute path. Ported from the staruml-postgresql extension&#x27;s Generate DDL feature.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path for the output DDL file (e.g., <code>&quot;/Users/xxx/output.sql&quot;</code>)</td></tr>
<tr><td>dataModelId</td><td>string</td><td>No</td><td>If specified, only entities under this data model are included. If omitted, all data models are included</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/Users/xxx/database.sql&quot;
}
</code></pre>
<p><strong>Data model filter example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/Users/xxx/database.sql&quot;,
  &quot;dataModelId&quot;: &quot;AAAAAAGVwwww&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;DDL generated to \&quot;/Users/xxx/database.sql\&quot;&quot;,
  &quot;request&quot;: {
    &quot;method&quot;: &quot;POST&quot;,
    &quot;path&quot;: &quot;/api/erd/postgresql/ddl&quot;,
    &quot;body&quot;: { &quot;path&quot;: &quot;/Users/xxx/database.sql&quot; }
  },
  &quot;data&quot;: {
    &quot;path&quot;: &quot;/Users/xxx/database.sql&quot;
  }
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Absolute path of the generated DDL file</td></tr>
</tbody>
</table>
<p><strong>Generated DDL contents</strong>:</p>
<p>The DDL file contains the following sections in order:</p>
<ol>
<li>Header comment (generation timestamp in local time)</li>
<li>Schema creation (if not <code>public</code>; specified by the data model&#x27;s <code>schema</code> tag)</li>
<li>DROP SEQUENCE IF EXISTS ... CASCADE statements (from <code>sequence#</code> tags)</li>
<li>DROP TABLE IF EXISTS ... CASCADE statements (in reverse dependency order)</li>
<li>CREATE SEQUENCE statements (from entity <code>sequence#</code> tags)</li>
<li>CREATE TABLE statements (with column definitions and PRIMARY KEY constraints)</li>
<li>ALTER TABLE ... ADD UNIQUE constraints</li>
<li>FK auto-indexes (anonymous CREATE INDEX ON statements for FK columns)</li>
<li>ALTER TABLE ... ADD CONSTRAINT FK ... FOREIGN KEY constraints (auto-generated from column referenceTo references)</li>
<li>CREATE INDEX statements (from entity <code>index#</code> tags)</li>
<li>COMMENT ON TABLE / COMMENT ON COLUMN statements (from documentation attributes)</li>
</ol>
<p><strong>PostgreSQL type mapping</strong>:</p>
<table>
<thead>
<tr><th>StarUML type</th><th>PostgreSQL type</th><th>Notes</th></tr>
</thead>
<tbody>
<tr><td>CHAR</td><td>char(n)</td><td>With length</td></tr>
<tr><td>VARCHAR</td><td>varchar(n)</td><td>With length</td></tr>
<tr><td>TEXT</td><td>text</td></tr>
<tr><td>CLOB</td><td>text</td></tr>
<tr><td>BOOLEAN</td><td>boolean</td></tr>
<tr><td>SMALLINT</td><td>smallint / smallserial</td><td>smallserial when length=-1</td></tr>
<tr><td>INTEGER, INT</td><td>integer / serial</td><td>serial when length=-1</td></tr>
<tr><td>BIGINT</td><td>bigint / bigserial</td><td>bigserial when length=-1</td></tr>
<tr><td>TINYINT</td><td>smallint</td><td>No tinyint in PostgreSQL</td></tr>
<tr><td>FLOAT</td><td>real</td></tr>
<tr><td>DOUBLE</td><td>double precision</td></tr>
<tr><td>REAL</td><td>real</td></tr>
<tr><td>DECIMAL</td><td>numeric(n)</td><td>With length</td></tr>
<tr><td>NUMERIC</td><td>numeric(n)</td><td>With length</td></tr>
<tr><td>DATE</td><td>date</td></tr>
<tr><td>TIME</td><td>time without time zone</td></tr>
<tr><td>DATETIME</td><td>timestamp with time zone</td></tr>
<tr><td>TIMESTAMP</td><td>timestamp without time zone</td></tr>
<tr><td>BLOB</td><td>bytea</td></tr>
<tr><td>BINARY</td><td>bytea</td></tr>
<tr><td>VARBINARY</td><td>bytea</td></tr>
<tr><td>UUID</td><td>uuid</td></tr>
<tr><td>JSON</td><td>json</td></tr>
<tr><td>JSONB</td><td>jsonb</td></tr>
<tr><td>XML</td><td>xml</td></tr>
<tr><td>SERIAL</td><td>serial</td></tr>
<tr><td>BIGSERIAL</td><td>bigserial</td></tr>
</tbody>
</table>
<p><strong>DDL customization via tags</strong>:</p>
<table>
<thead>
<tr><th>Tag name</th><th>Target element</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>schema</td><td>ERDDataModel</td><td>Schema name (default: <code>public</code>)</td></tr>
<tr><td>table</td><td>ERDEntity</td><td>Override table name (defaults to entity name)</td></tr>
<tr><td>column</td><td>ERDColumn</td><td>Override column name (defaults to column name)</td></tr>
<tr><td>default</td><td>ERDColumn</td><td>DEFAULT value (e.g., <code>&quot;0&quot;</code>, <code>&quot;&#x27;active&#x27;&quot;</code>, <code>&quot;now()&quot;</code>)</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing, empty, or not a string</li>
<li>400: <code>path</code> is not an absolute path</li>
<li>400: ERDDataModel with the specified <code>dataModelId</code> not found</li>
<li>400: Unknown fields present</li>
<li>400: DDL generation failed (filesystem error, etc.)</li>
</ul>
<hr />
<h2 id="sequence-diagram-2">Sequence Diagram</h2>
<h3 id="interactions">Interactions</h3>
<h4 id="get-api-seq-interactions">GET /api/seq/interactions</h4>
<div class="endpoint-action">List all interactions in the project. An interaction serves as the parent container for lifelines, messages, combined fragments, and sequence diagrams.</div>
<p>List all interactions in the project. An interaction serves as the parent container for lifelines, messages, combined fragments, and sequence diagrams.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 interaction(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
      &quot;_type&quot;: &quot;UMLInteraction&quot;,
      &quot;name&quot;: &quot;Interaction1&quot;,
      &quot;participants&quot;: [
        { &quot;_id&quot;: &quot;AAAAAAGVaaaa&quot;, &quot;name&quot;: &quot;Lifeline1&quot; }
      ],
      &quot;messages&quot;: [
        { &quot;_id&quot;: &quot;AAAAAAGVbbbb&quot;, &quot;name&quot;: &quot;message1&quot; }
      ],
      &quot;fragments&quot;: [
        { &quot;_id&quot;: &quot;AAAAAAGVcccc&quot;, &quot;_type&quot;: &quot;UMLCombinedFragment&quot;, &quot;name&quot;: &quot;alt1&quot; }
      ],
      &quot;_parentId&quot;: &quot;AAAAAAGVrrrr&quot;
    }
  ]
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the interaction</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLInteraction&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Interaction name</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>participants</td><td>object[]</td><td>Lifelines in this interaction (<code>_id</code>, <code>name</code>)</td></tr>
<tr><td>messages</td><td>object[]</td><td>Messages in this interaction (<code>_id</code>, <code>name</code>)</td></tr>
<tr><td>fragments</td><td>object[]</td><td>Fragments in this interaction (<code>_id</code>, <code>_type</code>, <code>name</code>)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent element ID</td></tr>
</tbody>
</table>
<hr />
<h4 id="post-api-seq-interactions">POST /api/seq/interactions</h4>
<div class="endpoint-action">Create a new interaction. It is created directly under the project root.</div>
<p>Create a new interaction. It is created directly under the project root.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Interaction name (default: <code>&quot;Interaction1&quot;</code>)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;LoginSequence&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;POST&quot;, &quot;path&quot;: &quot;/api/seq/interactions&quot;, &quot;body&quot;: { &quot;name&quot;: &quot;LoginSequence&quot; } },
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLInteraction&quot;,
    &quot;name&quot;: &quot;LoginSequence&quot;,
    &quot;participants&quot;: [],
    &quot;messages&quot;: [],
    &quot;fragments&quot;: [],
    &quot;_parentId&quot;: &quot;AAAAAAGVrrrr&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
<li>400: <code>name</code> is empty</li>
<li>400: No project is open</li>
</ul>
<hr />
<h4 id="get-api-seq-interactions-id">GET /api/seq/interactions/:id</h4>
<div class="endpoint-action">Get the details of the specified interaction.</div>
<p>Get the details of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Interaction object (same format as GET /api/seq/interactions data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-interactions-id">PUT /api/seq/interactions/:id</h4>
<div class="endpoint-action">Update the specified interaction. Only the specified fields are updated.</div>
<p>Update the specified interaction. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Interaction name</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;CheckoutSequence&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated interaction object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-interactions-id">DELETE /api/seq/interactions/:id</h4>
<div class="endpoint-action">Delete the specified interaction. Deletion is blocked if it contains lifelines, messages, fragments, or diagrams.</div>
<p>Delete the specified interaction. Deletion is blocked if it contains lifelines, messages, fragments, or diagrams.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVxxxx&quot;, &quot;name&quot;: &quot;LoginSequence&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Contains lifelines, messages, fragments, or diagrams (error message includes counts)</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h3 id="sequence-diagrams">Sequence Diagrams</h3>
<h4 id="get-api-seq-diagrams">GET /api/seq/diagrams</h4>
<div class="endpoint-action">List all sequence diagrams in the project.</div>
<p>List all sequence diagrams in the project.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 diagram(s)&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/diagrams&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVdddd&quot;,
      &quot;_type&quot;: &quot;UMLSequenceDiagram&quot;,
      &quot;name&quot;: &quot;SequenceDiagram1&quot;,
      &quot;lifelineIds&quot;: [&quot;AAAAAAGVaaaa&quot;, &quot;AAAAAAGVeeee&quot;],
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Response fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the diagram</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLSequenceDiagram&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Diagram name</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>lifelineIds</td><td>string[]</td><td>IDs of lifelines displayed on this diagram</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent element (typically UMLInteraction) ID</td></tr>
</tbody>
</table>
<hr />
<h4 id="post-api-seq-diagrams">POST /api/seq/diagrams</h4>
<div class="endpoint-action">Create a new sequence diagram.</div>
<p>Create a new sequence diagram.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>parentId</td><td>string</td><td>Yes</td><td>Parent element (UMLInteraction) ID</td></tr>
<tr><td>name</td><td>string</td><td>No</td><td>Diagram name (default: <code>&quot;SequenceDiagram1&quot;</code>)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>width</td><td>number</td><td>No</td><td>Frame width in pixels (default: 692)</td></tr>
<tr><td>height</td><td>number</td><td>No</td><td>Frame height in pixels (default: 592)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;parentId&quot;: &quot;AAAAAAGVxxxx&quot;,
  &quot;name&quot;: &quot;Login Flow&quot;
}
</code></pre>
<p><strong>Response</strong>: The created diagram object (same format as GET /api/seq/diagrams data array element). <code>message</code> includes creation details.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>parentId</code> is missing or the corresponding UMLInteraction not found</li>
<li>400: Unknown fields present</li>
<li>400: Field type mismatch</li>
<li>400: <code>name</code> is empty</li>
</ul>
<hr />
<h4 id="get-api-seq-diagrams-id">GET /api/seq/diagrams/:id</h4>
<div class="endpoint-action">Get the details of the specified sequence diagram.</div>
<p>Get the details of the specified sequence diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Diagram object (same format as GET /api/seq/diagrams data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLSequenceDiagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-diagrams-id">PUT /api/seq/diagrams/:id</h4>
<div class="endpoint-action">Update the specified sequence diagram. Only the specified fields are updated.</div>
<p>Update the specified sequence diagram. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Diagram name</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Login Flow Diagram&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated diagram object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: UMLSequenceDiagram with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-diagrams-id">DELETE /api/seq/diagrams/:id</h4>
<div class="endpoint-action">Delete the specified sequence diagram.</div>
<p>Delete the specified sequence diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted diagram \&quot;SequenceDiagram1\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/diagrams/AAAAAAGVdddd&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVdddd&quot;, &quot;name&quot;: &quot;SequenceDiagram1&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLSequenceDiagram with the specified ID not found</li>
</ul>
<hr />
<h3 id="lifelines">Lifelines</h3>
<h4 id="get-api-seq-interactions-id-lifelines">GET /api/seq/interactions/:id/lifelines</h4>
<div class="endpoint-action">List all lifelines of the specified interaction.</div>
<p>List all lifelines of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 2 lifeline(s) from interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx/lifelines&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVaaaa&quot;,
      &quot;_type&quot;: &quot;UMLLifeline&quot;,
      &quot;name&quot;: &quot;Client&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    },
    {
      &quot;_id&quot;: &quot;AAAAAAGVeeee&quot;,
      &quot;_type&quot;: &quot;UMLLifeline&quot;,
      &quot;name&quot;: &quot;Server&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-interactions-id-lifelines">POST /api/seq/interactions/:id/lifelines</h4>
<div class="endpoint-action">Add a new lifeline to the specified interaction. If <code>diagramId</code> is specified, a view (visual representation) is also created on the diagram.</div>
<p>Add a new lifeline to the specified interaction. If <code>diagramId</code> is specified, a view (visual representation) is also created on the diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Lifeline name (default: <code>&quot;Lifeline1&quot;</code>)</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>If specified, a view is created on the UMLSequenceDiagram</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X coordinate of the view</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Y coordinate of the view</td></tr>
<tr><td>height</td><td>number</td><td>No</td><td>Lifeline height in pixels (default: 200)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;AuthService&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVdddd&quot;
}
</code></pre>
<p><strong>Response</strong>: The created lifeline object. <code>message</code> includes creation details.</p>
<p><strong>Lifeline object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the lifeline</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLLifeline&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Lifeline name</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>represent</td><td>string</td><td>Represented element (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent interaction ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: UMLSequenceDiagram with the specified <code>diagramId</code> not found</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-lifelines-id">GET /api/seq/lifelines/:id</h4>
<div class="endpoint-action">Get the details of the specified lifeline.</div>
<p>Get the details of the specified lifeline.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Lifeline ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Lifeline object (same format as POST /api/seq/interactions/:id/lifelines response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLLifeline with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-lifelines-id">PUT /api/seq/lifelines/:id</h4>
<div class="endpoint-action">Update the specified lifeline. Only the specified fields are updated.</div>
<p>Update the specified lifeline. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Lifeline ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Lifeline name</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;DatabaseService&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated lifeline object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: UMLLifeline with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-lifelines-id">DELETE /api/seq/lifelines/:id</h4>
<div class="endpoint-action">Delete the specified lifeline. Deletion is blocked if messages reference this lifeline as source or target, or if state invariants reference it via covered.</div>
<p>Delete the specified lifeline. Deletion is blocked if messages reference this lifeline as source or target, or if state invariants reference it via covered.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Lifeline ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted lifeline \&quot;AuthService\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/lifelines/AAAAAAGVaaaa&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVaaaa&quot;, &quot;name&quot;: &quot;AuthService&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Messages reference this lifeline as source or target (message includes referencing details)</li>
<li>400: State invariants reference this lifeline via covered (message includes referencing details)</li>
<li>404: UMLLifeline with the specified ID not found</li>
</ul>
<hr />
<h3 id="messages">Messages</h3>
<h4 id="get-api-seq-interactions-id-messages">GET /api/seq/interactions/:id/messages</h4>
<div class="endpoint-action">List all messages of the specified interaction.</div>
<p>List all messages of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 message(s) from interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx/messages&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVbbbb&quot;,
      &quot;_type&quot;: &quot;UMLMessage&quot;,
      &quot;name&quot;: &quot;authenticate&quot;,
      &quot;messageSort&quot;: &quot;synchCall&quot;,
      &quot;source&quot;: &quot;AAAAAAGVaaaa&quot;,
      &quot;target&quot;: &quot;AAAAAAGVeeee&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-interactions-id-messages">POST /api/seq/interactions/:id/messages</h4>
<div class="endpoint-action">Create a new message in the specified interaction. Uses <code>createModelAndView</code> to create both model and view on the diagram. Supports standard messages, found messages (<code>UMLFoundMessage</code>), and lost messages (<code>UMLLostMessage</code>).</div>
<p>Create a new message in the specified interaction. Uses <code>createModelAndView</code> to create both model and view on the diagram. Supports standard messages, found messages (<code>UMLFoundMessage</code>), and lost messages (<code>UMLLostMessage</code>).</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Message name</td></tr>
<tr><td>messageSort</td><td>string</td><td>No</td><td>Message sort. Allowed values: <code>synchCall</code>, <code>asynchCall</code>, <code>asynchSignal</code>, <code>createMessage</code>, <code>deleteMessage</code>, <code>reply</code></td></tr>
<tr><td>messageType</td><td>string</td><td>No</td><td>Message type. Allowed: <code>UMLMessage</code> (default), <code>UMLFoundMessage</code>, <code>UMLLostMessage</code></td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>source</td><td>string</td><td>Conditional</td><td>Source lifeline ID (required for <code>UMLMessage</code> and <code>UMLLostMessage</code>)</td></tr>
<tr><td>target</td><td>string</td><td>Conditional</td><td>Target lifeline ID (required for <code>UMLMessage</code> and <code>UMLFoundMessage</code>)</td></tr>
<tr><td>diagramId</td><td>string</td><td>Yes</td><td>UMLSequenceDiagram ID</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X position for endpoint (used by <code>UMLFoundMessage</code>/<code>UMLLostMessage</code>)</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Vertical position (y-coordinate) on the diagram</td></tr>
<tr><td>activationHeight</td><td>number</td><td>No</td><td>Height of the activation bar on the target lifeline (for synchCall messages)</td></tr>
</tbody>
</table>
<blockquote><p><strong>Note</strong>: For <code>UMLFoundMessage</code>: only <code>target</code> is required (source endpoint is auto-created). For <code>UMLLostMessage</code>: only <code>source</code> is required (target endpoint is auto-created).</p></blockquote>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;authenticate&quot;,
  &quot;messageSort&quot;: &quot;synchCall&quot;,
  &quot;source&quot;: &quot;AAAAAAGVaaaa&quot;,
  &quot;target&quot;: &quot;AAAAAAGVeeee&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVdddd&quot;
}
</code></pre>
<p><strong>Response</strong>: The created message object. <code>message</code> includes creation details.</p>
<p><strong>Message object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the message</td></tr>
<tr><td>_type</td><td>string</td><td><code>&quot;UMLMessage&quot;</code>, <code>&quot;UMLFoundMessage&quot;</code>, or <code>&quot;UMLLostMessage&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Message name</td></tr>
<tr><td>messageSort</td><td>string</td><td>Message sort (e.g., <code>&quot;synchCall&quot;</code>, <code>&quot;asynchCall&quot;</code>)</td></tr>
<tr><td>source</td><td>string</td><td>Source lifeline ID (present only if set)</td></tr>
<tr><td>target</td><td>string</td><td>Target lifeline ID (present only if set)</td></tr>
<tr><td>signature</td><td>string</td><td>Signature (present only if set)</td></tr>
<tr><td>connector</td><td>string</td><td>Connector (present only if set)</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent interaction ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>source</code> or <code>target</code> is missing (based on <code>messageType</code>)</li>
<li>400: <code>diagramId</code> is missing</li>
<li>400: UMLLifeline with the specified <code>source</code> or <code>target</code> not found</li>
<li>400: UMLSequenceDiagram with the specified <code>diagramId</code> not found</li>
<li>400: <code>messageSort</code> is not an allowed value (error message lists allowed values)</li>
<li>400: <code>messageType</code> is not an allowed value</li>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-messages-id">GET /api/seq/messages/:id</h4>
<div class="endpoint-action">Get the details of the specified message.</div>
<p>Get the details of the specified message.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Message ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Message object (same format as POST /api/seq/interactions/:id/messages response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLMessage with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-messages-id">PUT /api/seq/messages/:id</h4>
<div class="endpoint-action">Update the specified message. Only the specified fields are updated.</div>
<p>Update the specified message. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Message ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Message name</td></tr>
<tr><td>messageSort</td><td>string</td><td>No</td><td>Message sort</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;login&quot;,
  &quot;messageSort&quot;: &quot;asynchCall&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated message object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: <code>messageSort</code> is not an allowed value (error message lists allowed values)</li>
<li>404: UMLMessage with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-messages-id">DELETE /api/seq/messages/:id</h4>
<div class="endpoint-action">Delete the specified message.</div>
<p>Delete the specified message.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Message ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted message \&quot;authenticate\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/messages/AAAAAAGVbbbb&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVbbbb&quot;, &quot;name&quot;: &quot;authenticate&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLMessage with the specified ID not found</li>
</ul>
<hr />
<h3 id="combined-fragments">Combined Fragments</h3>
<h4 id="get-api-seq-interactions-id-combined-fragments">GET /api/seq/interactions/:id/combined-fragments</h4>
<div class="endpoint-action">List all combined fragments of the specified interaction.</div>
<p>List all combined fragments of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 combined fragment(s) from interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx/combined-fragments&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVcccc&quot;,
      &quot;_type&quot;: &quot;UMLCombinedFragment&quot;,
      &quot;name&quot;: &quot;alt1&quot;,
      &quot;interactionOperator&quot;: &quot;alt&quot;,
      &quot;operands&quot;: [
        { &quot;_id&quot;: &quot;AAAAAAGVffff&quot;, &quot;name&quot;: &quot;success&quot;, &quot;guard&quot;: &quot;isValid&quot; },
        { &quot;_id&quot;: &quot;AAAAAAGVgggg&quot;, &quot;name&quot;: &quot;failure&quot;, &quot;guard&quot;: &quot;else&quot; }
      ],
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-interactions-id-combined-fragments">POST /api/seq/interactions/:id/combined-fragments</h4>
<div class="endpoint-action">Create a new combined fragment in the specified interaction.</div>
<p>Create a new combined fragment in the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Fragment name</td></tr>
<tr><td>interactionOperator</td><td>string</td><td>No</td><td>Interaction operator (default: <code>&quot;alt&quot;</code>). Allowed values: <code>alt</code>, <code>opt</code>, <code>par</code>, <code>loop</code>, <code>critical</code>, <code>neg</code>, <code>assert</code>, <code>strict</code>, <code>seq</code>, <code>ignore</code>, <code>consider</code>, <code>break</code></td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>If specified, a view is created on the UMLSequenceDiagram</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X position on the diagram</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Y position on the diagram</td></tr>
<tr><td>width</td><td>number</td><td>No</td><td>Width on the diagram (default: 350)</td></tr>
<tr><td>height</td><td>number</td><td>No</td><td>Height on the diagram (default: 200)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;authCheck&quot;,
  &quot;interactionOperator&quot;: &quot;alt&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVdddd&quot;
}
</code></pre>
<p><strong>Response</strong>: The created combined fragment object. <code>message</code> includes creation details.</p>
<p><strong>Combined fragment object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the combined fragment</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLCombinedFragment&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Fragment name</td></tr>
<tr><td>interactionOperator</td><td>string</td><td>Interaction operator (e.g., <code>&quot;alt&quot;</code>, <code>&quot;loop&quot;</code>)</td></tr>
<tr><td>operands</td><td>object[]</td><td>Child operands (<code>_id</code>, <code>name</code>, <code>guard</code>)</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent interaction ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>interactionOperator</code> is not an allowed value (error message lists allowed values)</li>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: UMLSequenceDiagram with the specified <code>diagramId</code> not found</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-combined-fragments-id">GET /api/seq/combined-fragments/:id</h4>
<div class="endpoint-action">Get the details of the specified combined fragment.</div>
<p>Get the details of the specified combined fragment.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Combined fragment object (same format as GET /api/seq/interactions/:id/combined-fragments data array element)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLCombinedFragment with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-combined-fragments-id">PUT /api/seq/combined-fragments/:id</h4>
<div class="endpoint-action">Update the specified combined fragment. Only the specified fields are updated.</div>
<p>Update the specified combined fragment. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Fragment name</td></tr>
<tr><td>interactionOperator</td><td>string</td><td>No</td><td>Interaction operator</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;interactionOperator&quot;: &quot;loop&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated combined fragment object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: <code>interactionOperator</code> is not an allowed value (error message lists allowed values)</li>
<li>404: UMLCombinedFragment with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-combined-fragments-id">DELETE /api/seq/combined-fragments/:id</h4>
<div class="endpoint-action">Delete the specified combined fragment. Child operands are cascade deleted automatically.</div>
<p>Delete the specified combined fragment. Child operands are cascade deleted automatically.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted combined fragment \&quot;authCheck\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/combined-fragments/AAAAAAGVcccc&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVcccc&quot;, &quot;name&quot;: &quot;authCheck&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLCombinedFragment with the specified ID not found</li>
</ul>
<hr />
<h3 id="interaction-operands">Interaction Operands</h3>
<h4 id="get-api-seq-combined-fragments-id-operands">GET /api/seq/combined-fragments/:id/operands</h4>
<div class="endpoint-action">List all operands of the specified combined fragment.</div>
<p>List all operands of the specified combined fragment.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 2 operand(s) from combined fragment \&quot;authCheck\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/combined-fragments/AAAAAAGVcccc/operands&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVffff&quot;,
      &quot;_type&quot;: &quot;UMLInteractionOperand&quot;,
      &quot;name&quot;: &quot;success&quot;,
      &quot;guard&quot;: &quot;isValid&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVcccc&quot;
    },
    {
      &quot;_id&quot;: &quot;AAAAAAGVgggg&quot;,
      &quot;_type&quot;: &quot;UMLInteractionOperand&quot;,
      &quot;name&quot;: &quot;failure&quot;,
      &quot;guard&quot;: &quot;else&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVcccc&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLCombinedFragment with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-combined-fragments-id-operands">POST /api/seq/combined-fragments/:id/operands</h4>
<div class="endpoint-action">Add a new operand to the specified combined fragment.</div>
<p>Add a new operand to the specified combined fragment.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Operand name</td></tr>
<tr><td>guard</td><td>string</td><td>No</td><td>Guard condition</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;timeout&quot;,
  &quot;guard&quot;: &quot;elapsed &gt; 30s&quot;
}
</code></pre>
<p><strong>Response</strong>: The created operand object. <code>message</code> includes creation details.</p>
<p><strong>Interaction operand object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the operand</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLInteractionOperand&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Operand name</td></tr>
<tr><td>guard</td><td>string</td><td>Guard condition</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent combined fragment ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>404: UMLCombinedFragment with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-operands-id">GET /api/seq/operands/:id</h4>
<div class="endpoint-action">Get the details of the specified operand.</div>
<p>Get the details of the specified operand.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Operand ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Operand object (same format as POST /api/seq/combined-fragments/:id/operands response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteractionOperand with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-operands-id">PUT /api/seq/operands/:id</h4>
<div class="endpoint-action">Update the specified operand. Only the specified fields are updated.</div>
<p>Update the specified operand. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Operand ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Operand name</td></tr>
<tr><td>guard</td><td>string</td><td>No</td><td>Guard condition</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;guard&quot;: &quot;retryCount &lt; 3&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated operand object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>404: UMLInteractionOperand with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-operands-id">DELETE /api/seq/operands/:id</h4>
<div class="endpoint-action">Delete the specified operand. Deletion is blocked if the parent combined fragment has only 1 operand remaining.</div>
<p>Delete the specified operand. Deletion is blocked if the parent combined fragment has only 1 operand remaining.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Operand ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted operand \&quot;timeout\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/operands/AAAAAAGVhhhh&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVhhhh&quot;, &quot;name&quot;: &quot;timeout&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Parent combined fragment has only 1 operand remaining (error message)</li>
<li>404: UMLInteractionOperand with the specified ID not found</li>
</ul>
<hr />
<h3 id="state-invariants">State Invariants</h3>
<h4 id="get-api-seq-interactions-id-state-invariants">GET /api/seq/interactions/:id/state-invariants</h4>
<div class="endpoint-action">List all state invariants of the specified interaction.</div>
<p>List all state invariants of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 state invariant(s) from interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx/state-invariants&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGViiii&quot;,
      &quot;_type&quot;: &quot;UMLStateInvariant&quot;,
      &quot;name&quot;: &quot;authenticated&quot;,
      &quot;covered&quot;: &quot;AAAAAAGVaaaa&quot;,
      &quot;invariant&quot;: &quot;isLoggedIn == true&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-interactions-id-state-invariants">POST /api/seq/interactions/:id/state-invariants</h4>
<div class="endpoint-action">Create a new state invariant in the specified interaction.</div>
<p>Create a new state invariant in the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>State invariant name</td></tr>
<tr><td>covered</td><td>string</td><td>Conditional</td><td>Lifeline ID that this state invariant covers. <strong>Required when <code>diagramId</code> is specified</strong></td></tr>
<tr><td>invariant</td><td>string</td><td>No</td><td>Invariant expression</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>If specified, a view is created on the UMLSequenceDiagram</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X position on the diagram</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Y position on the diagram</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;authenticated&quot;,
  &quot;covered&quot;: &quot;AAAAAAGVaaaa&quot;,
  &quot;invariant&quot;: &quot;isLoggedIn == true&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVdddd&quot;
}
</code></pre>
<p><strong>Response</strong>: The created state invariant object. <code>message</code> includes creation details.</p>
<p><strong>State invariant object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the state invariant</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLStateInvariant&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>State invariant name</td></tr>
<tr><td>covered</td><td>string</td><td>Covered lifeline ID (present only if set)</td></tr>
<tr><td>invariant</td><td>string</td><td>Invariant expression (present only if set)</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent interaction ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: UMLLifeline with the specified <code>covered</code> not found</li>
<li>400: <code>covered</code> is required when <code>diagramId</code> is specified</li>
<li>400: Covered lifeline does not have a view on the specified diagram</li>
<li>400: UMLSequenceDiagram with the specified <code>diagramId</code> not found</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-state-invariants-id">GET /api/seq/state-invariants/:id</h4>
<div class="endpoint-action">Get the details of the specified state invariant.</div>
<p>Get the details of the specified state invariant.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>State invariant ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: State invariant object (same format as POST /api/seq/interactions/:id/state-invariants response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLStateInvariant with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-state-invariants-id">PUT /api/seq/state-invariants/:id</h4>
<div class="endpoint-action">Update the specified state invariant. Only the specified fields are updated.</div>
<p>Update the specified state invariant. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>State invariant ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>State invariant name</td></tr>
<tr><td>covered</td><td>string</td><td>No</td><td>Lifeline ID</td></tr>
<tr><td>invariant</td><td>string</td><td>No</td><td>Invariant expression</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;invariant&quot;: &quot;sessionActive == true&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated state invariant object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: UMLLifeline with the specified <code>covered</code> not found</li>
<li>404: UMLStateInvariant with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-state-invariants-id">DELETE /api/seq/state-invariants/:id</h4>
<div class="endpoint-action">Delete the specified state invariant.</div>
<p>Delete the specified state invariant.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>State invariant ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted state invariant \&quot;authenticated\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/state-invariants/AAAAAAGViiii&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGViiii&quot;, &quot;name&quot;: &quot;authenticated&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLStateInvariant with the specified ID not found</li>
</ul>
<hr />
<h3 id="interaction-uses">Interaction Uses</h3>
<h4 id="get-api-seq-interactions-id-interaction-uses">GET /api/seq/interactions/:id/interaction-uses</h4>
<div class="endpoint-action">List all interaction uses of the specified interaction.</div>
<p>List all interaction uses of the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 1 interaction use(s) from interaction \&quot;LoginSequence\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;GET&quot;, &quot;path&quot;: &quot;/api/seq/interactions/AAAAAAGVxxxx/interaction-uses&quot; },
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVjjjj&quot;,
      &quot;_type&quot;: &quot;UMLInteractionUse&quot;,
      &quot;name&quot;: &quot;validateToken&quot;,
      &quot;refersTo&quot;: &quot;AAAAAAGVkkkk&quot;,
      &quot;arguments&quot;: &quot;token, userId&quot;,
      &quot;returnValue&quot;: &quot;boolean&quot;,
      &quot;_parentId&quot;: &quot;AAAAAAGVxxxx&quot;
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="post-api-seq-interactions-id-interaction-uses">POST /api/seq/interactions/:id/interaction-uses</h4>
<div class="endpoint-action">Create a new interaction use in the specified interaction.</div>
<p>Create a new interaction use in the specified interaction.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Interaction use name</td></tr>
<tr><td>refersTo</td><td>string</td><td>No</td><td>Referenced UMLInteraction ID</td></tr>
<tr><td>arguments</td><td>string</td><td>No</td><td>Arguments</td></tr>
<tr><td>returnValue</td><td>string</td><td>No</td><td>Return value</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
<tr><td>diagramId</td><td>string</td><td>No</td><td>If specified, a view is created on the UMLSequenceDiagram</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X position on the diagram</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Y position on the diagram</td></tr>
<tr><td>width</td><td>number</td><td>No</td><td>Width on the diagram (default: 350)</td></tr>
<tr><td>height</td><td>number</td><td>No</td><td>Height on the diagram (default: 100)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;validateToken&quot;,
  &quot;refersTo&quot;: &quot;AAAAAAGVkkkk&quot;,
  &quot;arguments&quot;: &quot;token, userId&quot;,
  &quot;returnValue&quot;: &quot;boolean&quot;,
  &quot;diagramId&quot;: &quot;AAAAAAGVdddd&quot;
}
</code></pre>
<p><strong>Response</strong>: The created interaction use object. <code>message</code> includes creation details.</p>
<p><strong>Interaction use object fields</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>_id</td><td>string</td><td>Unique identifier of the interaction use</td></tr>
<tr><td>_type</td><td>string</td><td>Always <code>&quot;UMLInteractionUse&quot;</code></td></tr>
<tr><td>name</td><td>string</td><td>Interaction use name</td></tr>
<tr><td>refersTo</td><td>string</td><td>Referenced UMLInteraction ID (present only if set)</td></tr>
<tr><td>arguments</td><td>string</td><td>Arguments (present only if set)</td></tr>
<tr><td>returnValue</td><td>string</td><td>Return value (present only if set)</td></tr>
<tr><td>documentation</td><td>string</td><td>Description (present only if set)</td></tr>
<tr><td>_parentId</td><td>string</td><td>Parent interaction ID</td></tr>
</tbody>
</table>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Unknown fields, type mismatch, or empty name</li>
<li>400: UMLInteraction with the specified <code>refersTo</code> not found</li>
<li>400: UMLSequenceDiagram with the specified <code>diagramId</code> not found</li>
<li>404: UMLInteraction with the specified ID not found</li>
</ul>
<hr />
<h4 id="get-api-seq-interaction-uses-id">GET /api/seq/interaction-uses/:id</h4>
<div class="endpoint-action">Get the details of the specified interaction use.</div>
<p>Get the details of the specified interaction use.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction use ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Interaction use object (same format as POST /api/seq/interactions/:id/interaction-uses response)</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteractionUse with the specified ID not found</li>
</ul>
<hr />
<h4 id="put-api-seq-interaction-uses-id">PUT /api/seq/interaction-uses/:id</h4>
<div class="endpoint-action">Update the specified interaction use. Only the specified fields are updated.</div>
<p>Update the specified interaction use. Only the specified fields are updated.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction use ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Interaction use name</td></tr>
<tr><td>refersTo</td><td>string</td><td>No</td><td>Referenced UMLInteraction ID</td></tr>
<tr><td>arguments</td><td>string</td><td>No</td><td>Arguments</td></tr>
<tr><td>returnValue</td><td>string</td><td>No</td><td>Return value</td></tr>
<tr><td>documentation</td><td>string</td><td>No</td><td>Description</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;arguments&quot;: &quot;token, userId, sessionId&quot;,
  &quot;returnValue&quot;: &quot;AuthResult&quot;
}
</code></pre>
<p><strong>Response</strong>: The updated interaction use object. <code>message</code> includes the names of updated fields.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: Empty body, unknown fields, type mismatch, or empty name</li>
<li>400: UMLInteraction with the specified <code>refersTo</code> not found</li>
<li>404: UMLInteractionUse with the specified ID not found</li>
</ul>
<hr />
<h4 id="delete-api-seq-interaction-uses-id">DELETE /api/seq/interaction-uses/:id</h4>
<div class="endpoint-action">Delete the specified interaction use.</div>
<p>Delete the specified interaction use.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Interaction use ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted interaction use \&quot;validateToken\&quot;&quot;,
  &quot;request&quot;: { &quot;method&quot;: &quot;DELETE&quot;, &quot;path&quot;: &quot;/api/seq/interaction-uses/AAAAAAGVjjjj&quot; },
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVjjjj&quot;, &quot;name&quot;: &quot;validateToken&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: UMLInteractionUse with the specified ID not found</li>
</ul>
<hr />
<h2 id="shapes">Shapes</h2>
<p>Shapes are view-only elements (no backing model) such as text labels, rectangles, ellipses, hyperlinks, and images.</p>
<h3 id="allowed-shape-types">Allowed shape types</h3>
<p><code>Text</code>, <code>TextBox</code>, <code>Rect</code>, <code>RoundRect</code>, <code>Ellipse</code>, <code>Hyperlink</code>, <code>Image</code>, <code>UMLFrame</code></p>
<table>
<thead>
<tr><th>Shape type</th><th>Internal _type</th></tr>
</thead>
<tbody>
<tr><td>Text</td><td>UMLTextView</td></tr>
<tr><td>TextBox</td><td>UMLTextBoxView</td></tr>
<tr><td>Rect</td><td>RectangleView</td></tr>
<tr><td>RoundRect</td><td>RoundRectView</td></tr>
<tr><td>Ellipse</td><td>EllipseView</td></tr>
<tr><td>Hyperlink</td><td>HyperlinkView</td></tr>
<tr><td>Image</td><td>ImageView</td></tr>
<tr><td>UMLFrame</td><td>UMLFrameView</td></tr>
</tbody>
</table>
<hr />
<h4 id="get-api-diagrams-id-shapes">GET /api/diagrams/:id/shapes</h4>
<div class="endpoint-action">List all shape elements on a diagram.</div>
<p>List all shape elements on a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 2 shape(s) from diagram \&quot;MyDiagram\&quot;&quot;,
  &quot;data&quot;: [
    {
      &quot;_id&quot;: &quot;AAAAAAGVshape1&quot;,
      &quot;_type&quot;: &quot;UMLTextBoxView&quot;,
      &quot;shapeType&quot;: &quot;TextBox&quot;,
      &quot;left&quot;: 50,
      &quot;top&quot;: 50,
      &quot;width&quot;: 150,
      &quot;height&quot;: 50,
      &quot;text&quot;: &quot;Important Note&quot;
    },
    {
      &quot;_id&quot;: &quot;AAAAAAGVshape2&quot;,
      &quot;_type&quot;: &quot;EllipseView&quot;,
      &quot;shapeType&quot;: &quot;Ellipse&quot;,
      &quot;left&quot;: 300,
      &quot;top&quot;: 100,
      &quot;width&quot;: 100,
      &quot;height&quot;: 80
    }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
</ul>
<hr />
<h4 id="post-api-diagrams-id-shapes">POST /api/diagrams/:id/shapes</h4>
<div class="endpoint-action">Create a shape on a diagram.</div>
<p>Create a shape on a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Shape type (see allowed types above)</td></tr>
<tr><td>text</td><td>string</td><td>No</td><td>Text content (for Text, TextBox, Rect, etc.)</td></tr>
<tr><td>url</td><td>string</td><td>No</td><td>URL (for Hyperlink type)</td></tr>
<tr><td>imageFile</td><td>string</td><td>No</td><td>Image file path (for Image type)</td></tr>
<tr><td>x1</td><td>number</td><td>No</td><td>Left coordinate (default: 100)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Top coordinate (default: 100)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>Right coordinate (default: 200)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>Bottom coordinate (default: 150)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;TextBox&quot;,
  &quot;text&quot;: &quot;Important Note&quot;,
  &quot;x1&quot;: 50,
  &quot;y1&quot;: 50,
  &quot;x2&quot;: 200,
  &quot;y2&quot;: 100
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created shape \&quot;TextBox\&quot; on diagram \&quot;MyDiagram\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVshape1&quot;,
    &quot;_type&quot;: &quot;UMLTextBoxView&quot;,
    &quot;shapeType&quot;: &quot;TextBox&quot;,
    &quot;left&quot;: 50,
    &quot;top&quot;: 50,
    &quot;width&quot;: 150,
    &quot;height&quot;: 50,
    &quot;text&quot;: &quot;Important Note&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>type</code> is missing or not in the allowed list</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h4 id="get-api-shapes-id">GET /api/shapes/:id</h4>
<div class="endpoint-action">Get details of a specific shape.</div>
<p>Get details of a specific shape.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Shape view ID</td></tr>
</tbody>
</table>
<p><strong>Response</strong>: Shape object.</p>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Shape not found</li>
</ul>
<hr />
<h4 id="put-api-shapes-id">PUT /api/shapes/:id</h4>
<div class="endpoint-action">Update a shape&#x27;s text, URL, or image file.</div>
<p>Update a shape&#x27;s text, URL, or image file.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Shape view ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>text</td><td>string</td><td>No</td><td>New text content</td></tr>
<tr><td>url</td><td>string</td><td>No</td><td>New URL (for Hyperlink)</td></tr>
<tr><td>imageFile</td><td>string</td><td>No</td><td>New image file path (for Image)</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Updated shape \&quot;AAAAAAGVshape1\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVshape1&quot;,
    &quot;_type&quot;: &quot;UMLTextBoxView&quot;,
    &quot;shapeType&quot;: &quot;TextBox&quot;,
    &quot;left&quot;: 50,
    &quot;top&quot;: 50,
    &quot;width&quot;: 150,
    &quot;height&quot;: 50,
    &quot;text&quot;: &quot;Updated Note&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Shape not found</li>
<li>400: Empty body or unknown fields</li>
</ul>
<hr />
<h4 id="delete-api-shapes-id">DELETE /api/shapes/:id</h4>
<div class="endpoint-action">Delete a shape from its diagram.</div>
<p>Delete a shape from its diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Shape view ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Deleted shape \&quot;AAAAAAGVshape1\&quot;&quot;,
  &quot;data&quot;: { &quot;deleted&quot;: &quot;AAAAAAGVshape1&quot;, &quot;shapeType&quot;: &quot;TextBox&quot; }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Shape not found</li>
</ul>
<hr />
<h2 id="additional-endpoints">Additional Endpoints</h2>
<h3 id="post-api-diagrams-id-create-view-of">POST /api/diagrams/:id/create-view-of</h3>
<div class="endpoint-action">Create a view of an existing model element on a diagram. Useful for showing the same model on multiple diagrams.</div>
<p>Create a view of an existing model element on a diagram. Useful for showing the same model on multiple diagrams.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>modelId</td><td>string</td><td>Yes</td><td>ID of the existing model element</td></tr>
<tr><td>x</td><td>number</td><td>No</td><td>X position (default: 100)</td></tr>
<tr><td>y</td><td>number</td><td>No</td><td>Y position (default: 100)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;modelId&quot;: &quot;AAAAAAGVmodel1&quot;,
  &quot;x&quot;: 200,
  &quot;y&quot;: 150
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created view of \&quot;User\&quot; on diagram \&quot;Domain Model\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVview3&quot;,
    &quot;_type&quot;: &quot;UMLClassView&quot;,
    &quot;modelId&quot;: &quot;AAAAAAGVmodel1&quot;,
    &quot;modelType&quot;: &quot;UMLClass&quot;,
    &quot;name&quot;: &quot;User&quot;,
    &quot;left&quot;: 200,
    &quot;top&quot;: 150,
    &quot;width&quot;: 150,
    &quot;height&quot;: 80
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>modelId</code> is missing or not found</li>
<li>500: Failed to create view</li>
</ul>
<hr />
<h3 id="post-api-diagrams-id-open">POST /api/diagrams/:id/open</h3>
<div class="endpoint-action">Open and activate a diagram in the StarUML editor.</div>
<p>Open and activate a diagram in the StarUML editor.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Opened diagram \&quot;Domain Model\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Domain Model&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVyyyy&quot;,
    &quot;ownedViewsCount&quot;: 5
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
</ul>
<hr />
<h3 id="put-api-diagrams-id-zoom">PUT /api/diagrams/:id/zoom</h3>
<div class="endpoint-action">Set the zoom level of a diagram.</div>
<p>Set the zoom level of a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>level</td><td>number</td><td>Yes</td><td>Zoom level (0.1 to 10, where 1.0 = 100%)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;level&quot;: 1.5
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Set zoom level to 1.5 on diagram \&quot;Domain Model\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVxxxx&quot;,
    &quot;_type&quot;: &quot;UMLClassDiagram&quot;,
    &quot;name&quot;: &quot;Domain Model&quot;,
    &quot;zoom&quot;: 1.5
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>level</code> is missing or out of range (0.1-10)</li>
</ul>
<hr />
<h3 id="get-api-elements-id-relationships">GET /api/elements/:id/relationships</h3>
<div class="endpoint-action">Get all relationships connected to an element.</div>
<p>Get all relationships connected to an element.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 3 relationship(s) for \&quot;User\&quot;&quot;,
  &quot;data&quot;: [
    { &quot;_id&quot;: &quot;AAAAAAGVrel1&quot;, &quot;_type&quot;: &quot;UMLAssociation&quot;, &quot;name&quot;: &quot;&quot;, &quot;sourceId&quot;: &quot;AAAAAAGVmodel1&quot;, &quot;targetId&quot;: &quot;AAAAAAGVmodel2&quot; }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element not found</li>
</ul>
<hr />
<h3 id="get-api-elements-id-views">GET /api/elements/:id/views</h3>
<div class="endpoint-action">Get all views (visual representations) of a model element across all diagrams.</div>
<p>Get all views (visual representations) of a model element across all diagrams.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Retrieved 2 view(s) for \&quot;User\&quot;&quot;,
  &quot;data&quot;: [
    { &quot;viewId&quot;: &quot;AAAAAAGVview1&quot;, &quot;viewType&quot;: &quot;UMLClassView&quot;, &quot;diagramId&quot;: &quot;AAAAAAGVdiag1&quot;, &quot;diagramName&quot;: &quot;Class Diagram&quot; },
    { &quot;viewId&quot;: &quot;AAAAAAGVview2&quot;, &quot;viewType&quot;: &quot;UMLClassView&quot;, &quot;diagramId&quot;: &quot;AAAAAAGVdiag2&quot;, &quot;diagramName&quot;: &quot;Package Diagram&quot; }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element not found</li>
</ul>
<hr />
<h3 id="put-api-elements-id-relocate">PUT /api/elements/:id/relocate</h3>
<div class="endpoint-action">Move an element to a different parent element.</div>
<p>Move an element to a different parent element.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>newParentId</td><td>string</td><td>Yes</td><td>ID of the new parent element</td></tr>
<tr><td>field</td><td>string</td><td>No</td><td>Target field name (default: <code>ownedElements</code>)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;newParentId&quot;: &quot;AAAAAAGVpackage1&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Relocated \&quot;User\&quot; to new parent \&quot;core\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVmodel1&quot;,
    &quot;_type&quot;: &quot;UMLClass&quot;,
    &quot;name&quot;: &quot;User&quot;,
    &quot;_parentId&quot;: &quot;AAAAAAGVpackage1&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element not found</li>
<li>400: <code>newParentId</code> is missing or not found</li>
</ul>
<hr />
<h3 id="put-api-views-id-reconnect">PUT /api/views/:id/reconnect</h3>
<div class="endpoint-action">Change the source and/or target of an edge (relation view) on a diagram.</div>
<p>Change the source and/or target of an edge (relation view) on a diagram.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Edge view ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>newSourceId</td><td>string</td><td>No</td><td>New source element ID (model ID or view ID)</td></tr>
<tr><td>newTargetId</td><td>string</td><td>No</td><td>New target element ID (model ID or view ID)</td></tr>
</tbody>
</table>
<p>At least one of <code>newSourceId</code> or <code>newTargetId</code> must be provided.</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Reconnected edge \&quot;AAAAAAGVedge1\&quot;&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVedge1&quot;,
    &quot;_type&quot;: &quot;UMLAssociationView&quot;,
    &quot;sourceId&quot;: &quot;AAAAAAGVmodel3&quot;,
    &quot;targetId&quot;: &quot;AAAAAAGVmodel2&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: View not found</li>
<li>400: Neither <code>newSourceId</code> nor <code>newTargetId</code> provided</li>
<li>400: New source/target not found on diagram</li>
</ul>
<hr />
<h3 id="post-api-views-align">POST /api/views/align</h3>
<div class="endpoint-action">Align or distribute views on a diagram.</div>
<p>Align or distribute views on a diagram.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>viewIds</td><td>array</td><td>Yes</td><td>Array of view IDs to align (minimum 2)</td></tr>
<tr><td>action</td><td>string</td><td>Yes</td><td>Alignment action</td></tr>
</tbody>
</table>
<p><strong>Allowed actions</strong>: <code>align-left</code>, <code>align-right</code>, <code>align-center</code>, <code>align-top</code>, <code>align-bottom</code>, <code>align-middle</code>, <code>space-equally-horizontally</code>, <code>space-equally-vertically</code>, <code>set-width-equally</code>, <code>set-height-equally</code>, <code>set-size-equally</code>, <code>send-to-back</code>, <code>bring-to-front</code></p>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;viewIds&quot;: [&quot;AAAAAAGVview1&quot;, &quot;AAAAAAGVview2&quot;],
  &quot;action&quot;: &quot;align-left&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Aligned 2 view(s) with action \&quot;align-left\&quot;&quot;,
  &quot;data&quot;: {
    &quot;action&quot;: &quot;align-left&quot;,
    &quot;viewCount&quot;: 2
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>viewIds</code> is missing, not an array, or has fewer than 2 elements</li>
<li>400: <code>action</code> is missing or not in the allowed list</li>
<li>400: View ID not found</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h3 id="post-api-mermaid-import">POST /api/mermaid/import</h3>
<div class="endpoint-action">Generate a StarUML diagram from Mermaid syntax text.</div>
<p>Generate a StarUML diagram from Mermaid syntax text.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>string</td><td>Yes</td><td>Mermaid syntax text</td></tr>
<tr><td>parentId</td><td>string</td><td>No</td><td>Parent element ID (defaults to project root)</td></tr>
</tbody>
</table>
<p><strong>Supported diagram types</strong>: <code>classDiagram</code>, <code>sequenceDiagram</code>, <code>flowchart</code>, <code>erDiagram</code>, <code>mindmap</code>, <code>requirementDiagram</code>, <code>stateDiagram</code></p>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;code&quot;: &quot;classDiagram\n  class Animal {\n    +String name\n    +makeSound()\n  }\n  class Dog\n  Animal &lt;|-- Dog&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Imported Mermaid diagram (classDiagram)&quot;,
  &quot;data&quot;: {
    &quot;diagramType&quot;: &quot;classDiagram&quot;,
    &quot;diagramId&quot;: &quot;AAAAAAGVxxxx&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>code</code> is missing or empty</li>
<li>400: <code>parentId</code> not found</li>
<li>400: Unsupported Mermaid diagram type</li>
<li>400: Mermaid syntax parse error</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h3 id="post-api-diagrams-generate">POST /api/diagrams/generate</h3>
<div class="endpoint-action">Auto-generate a diagram from existing model elements.</div>
<p>Auto-generate a diagram from existing model elements.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>string</td><td>Yes</td><td>Generator type: <code>overview</code>, <code>overview-expanded</code>, <code>type-hierarchy</code>, <code>package-structure</code></td></tr>
<tr><td>parentId</td><td>string</td><td>No</td><td>Parent package ID (defaults to project root)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;overview&quot;,
  &quot;parentId&quot;: &quot;AAAAAAGVpackage1&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Generated overview diagram&quot;,
  &quot;data&quot;: {
    &quot;type&quot;: &quot;overview&quot;,
    &quot;diagramId&quot;: &quot;AAAAAAGVxxxx&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>type</code> is missing or not in the allowed list</li>
<li>400: <code>parentId</code> not found</li>
<li>400: Unknown fields present</li>
<li>500: Generation failed</li>
</ul>
<hr />
<h3 id="put-api-elements-id-reorder">PUT /api/elements/:id/reorder</h3>
<div class="endpoint-action">Move an element up or down within its parent&#x27;s field.</div>
<p>Move an element up or down within its parent&#x27;s field.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Element ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>direction</td><td>string</td><td>Yes</td><td><code>up</code> or <code>down</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;direction&quot;: &quot;up&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Reordered element \&quot;email\&quot; up&quot;,
  &quot;data&quot;: {
    &quot;_id&quot;: &quot;AAAAAAGVattr1&quot;,
    &quot;_type&quot;: &quot;UMLAttribute&quot;,
    &quot;name&quot;: &quot;email&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Element not found</li>
<li>400: <code>direction</code> is missing or not <code>up</code>/<code>down</code></li>
<li>400: Element is already at the first/last position</li>
<li>400: Unknown fields present</li>
</ul>
<hr />
<h3 id="post-api-project-new">POST /api/project/new</h3>
<div class="endpoint-action">Create a new empty project.</div>
<p>Create a new empty project.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Created new project&quot;
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>500: Failed to create new project</li>
</ul>
<hr />
<h3 id="post-api-project-close">POST /api/project/close</h3>
<div class="endpoint-action">Close the current project.</div>
<p>Close the current project.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Closed project&quot;
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>500: Failed to close project</li>
</ul>
<hr />
<h3 id="post-api-project-export">POST /api/project/export</h3>
<div class="endpoint-action">Export a model element as a fragment file (.mfj).</div>
<p>Export a model element as a fragment file (.mfj).</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>elementId</td><td>string</td><td>Yes</td><td>ID of the element to export</td></tr>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute path for the output file</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;elementId&quot;: &quot;AAAAAAGVmodel1&quot;,
  &quot;path&quot;: &quot;/tmp/fragment.mfj&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Exported element \&quot;User\&quot; to \&quot;/tmp/fragment.mfj\&quot;&quot;,
  &quot;data&quot;: {
    &quot;elementId&quot;: &quot;AAAAAAGVmodel1&quot;,
    &quot;elementName&quot;: &quot;User&quot;,
    &quot;path&quot;: &quot;/tmp/fragment.mfj&quot;
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>elementId</code> or <code>path</code> is missing</li>
<li>400: Element not found</li>
</ul>
<hr />
<h3 id="post-api-project-export-all">POST /api/project/export-all</h3>
<div class="endpoint-action">Export all diagrams in the project as image files.</div>
<p>Export all diagrams in the project as image files.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Output directory path</td></tr>
<tr><td>format</td><td>string</td><td>No</td><td>Image format: <code>png</code> (default), <code>jpeg</code>, <code>svg</code>, <code>pdf</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/tmp/diagrams/&quot;,
  &quot;format&quot;: &quot;png&quot;
}
</code></pre>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Exported 5 diagram(s) to \&quot;/tmp/diagrams/\&quot;&quot;,
  &quot;data&quot;: {
    &quot;count&quot;: 5,
    &quot;format&quot;: &quot;png&quot;,
    &quot;files&quot;: [
      { &quot;name&quot;: &quot;ClassDiagram1&quot;, &quot;path&quot;: &quot;/tmp/diagrams/ClassDiagram1.png&quot; }
    ]
  }
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> is missing</li>
<li>400: No diagrams found in project</li>
<li>400: Invalid format</li>
</ul>
<hr />
<h3 id="post-api-diagrams-id-link-object">POST /api/diagrams/:id/link-object</h3>
<div class="endpoint-action">Create a UMLLinkObject (association class) on an object diagram. This is a composite element that creates an Object + Link + LinkObjectLink.</div>
<p>Create a UMLLinkObject (association class) on an object diagram. This is a composite element that creates an Object + Link + LinkObjectLink.</p>
<p><strong>Path parameters</strong>:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>string</td><td>Diagram ID</td></tr>
</tbody>
</table>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>name</td><td>string</td><td>No</td><td>Name for the link object</td></tr>
<tr><td>sourceId</td><td>string</td><td>Yes</td><td>Source object model ID</td></tr>
<tr><td>targetId</td><td>string</td><td>Yes</td><td>Target object model ID</td></tr>
<tr><td>x1</td><td>number</td><td>No</td><td>X position (default: 200)</td></tr>
<tr><td>y1</td><td>number</td><td>No</td><td>Y position (default: 200)</td></tr>
<tr><td>x2</td><td>number</td><td>No</td><td>X2 position (default: 300)</td></tr>
<tr><td>y2</td><td>number</td><td>No</td><td>Y2 position (default: 250)</td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;enrollment&quot;,
  &quot;sourceId&quot;: &quot;AAAAAAGVobj1&quot;,
  &quot;targetId&quot;: &quot;AAAAAAGVobj2&quot;,
  &quot;x1&quot;: 200,
  &quot;y1&quot;: 200,
  &quot;x2&quot;: 300,
  &quot;y2&quot;: 250
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>404: Diagram not found</li>
<li>400: <code>sourceId</code> or <code>targetId</code> is missing</li>
<li>400: Source or target object not found</li>
</ul>
<hr />
<h3 id="post-api-project-export-doc">POST /api/project/export-doc</h3>
<div class="endpoint-action">Export project documentation as HTML or Markdown.</div>
<p>Export project documentation as HTML or Markdown.</p>
<p><strong>Request body</strong>:</p>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>path</td><td>string</td><td>Yes</td><td>Absolute file path for export output</td></tr>
<tr><td>format</td><td>string</td><td>Yes</td><td>Export format: <code>html</code> or <code>markdown</code></td></tr>
</tbody>
</table>
<p><strong>Request example</strong>:</p>
<pre><code class="language-json">{
  &quot;path&quot;: &quot;/tmp/project-docs&quot;,
  &quot;format&quot;: &quot;html&quot;
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>400: <code>path</code> or <code>format</code> is missing</li>
<li>400: Invalid format (must be <code>html</code> or <code>markdown</code>)</li>
</ul>
<hr />
<h3 id="post-api-validate">POST /api/validate</h3>
<div class="endpoint-action">Validate the model for integrity issues.</div>
<p>Validate the model for integrity issues.</p>
<p><strong>Request</strong>: None</p>
<p><strong>Response example</strong>:</p>
<pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Validation completed with 2 result(s)&quot;,
  &quot;data&quot;: [
    { &quot;elementId&quot;: &quot;AAAAAAGVmodel1&quot;, &quot;elementName&quot;: &quot;User&quot;, &quot;message&quot;: &quot;Missing documentation&quot;, &quot;severity&quot;: &quot;warning&quot; }
  ]
}
</code></pre>
<p><strong>Errors</strong>:</p>
<ul>
<li>500: Validation failed due to internal error</li>
</ul>
</div>
<script>
document.getElementById('sidebar').addEventListener('click', function(e) {
  // 1) Toggle arrow click - expand/collapse
  const toggle = e.target.closest('.toggle');
  if (toggle) {
    e.preventDefault();
    e.stopPropagation();
    const li = toggle.closest('.has-children');
    if (!li) return;
    const subList = li.querySelector(':scope > .sub-items');
    if (subList) {
      const isOpen = subList.classList.contains('open');
      toggle.classList.toggle('open', !isOpen);
      subList.classList.toggle('open', !isOpen);
    }
    return;
  }

  // 2) Link click - scroll + expand own children
  const link = e.target.closest('a');
  if (link) {
    const href = link.getAttribute('href');
    if (!href) return;
    e.preventDefault();
    const target = document.querySelector(href);
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      history.pushState(null, '', href);
    }
    const navItem = link.closest('.nav-item');
    if (navItem) {
      const li = navItem.parentElement;
      if (li && li.classList.contains('has-children')) {
        const t = li.querySelector(':scope > .nav-item > .toggle');
        const s = li.querySelector(':scope > .sub-items');
        if (t && s) {
          const isOpen = s.classList.contains('open');
          t.classList.toggle('open', !isOpen);
          s.classList.toggle('open', !isOpen);
        }
      }
    }
  }
});
</script>
</body>
</html>
